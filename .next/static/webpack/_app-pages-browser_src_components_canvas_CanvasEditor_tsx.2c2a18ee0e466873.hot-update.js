"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("_app-pages-browser_src_components_canvas_CanvasEditor_tsx",{

/***/ "(app-pages-browser)/./src/components/canvas/CanvasEditor.tsx":
/*!************************************************!*\
  !*** ./src/components/canvas/CanvasEditor.tsx ***!
  \************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-konva */ \"(app-pages-browser)/./node_modules/react-konva/es/ReactKonva.js\");\n/* harmony import */ var _GridLayer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GridLayer */ \"(app-pages-browser)/./src/components/canvas/GridLayer.tsx\");\n/* harmony import */ var _EquipmentLayer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EquipmentLayer */ \"(app-pages-browser)/./src/components/canvas/EquipmentLayer.tsx\");\n/* harmony import */ var _BackgroundLayer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BackgroundLayer */ \"(app-pages-browser)/./src/components/canvas/BackgroundLayer.tsx\");\n/* harmony import */ var _BackgroundImageManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BackgroundImageManager */ \"(app-pages-browser)/./src/components/canvas/BackgroundImageManager.tsx\");\n/* harmony import */ var _ScaleBar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ScaleBar */ \"(app-pages-browser)/./src/components/canvas/ScaleBar.tsx\");\n/* harmony import */ var _MeasurementTool__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MeasurementTool */ \"(app-pages-browser)/./src/components/canvas/MeasurementTool.tsx\");\n/* harmony import */ var _DistanceInputModal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DistanceInputModal */ \"(app-pages-browser)/./src/components/canvas/DistanceInputModal.tsx\");\n/* harmony import */ var _SimpleMeasurementTool__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./SimpleMeasurementTool */ \"(app-pages-browser)/./src/components/canvas/SimpleMeasurementTool.tsx\");\n/* harmony import */ var _EnhancedMeasurementTool__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./EnhancedMeasurementTool */ \"(app-pages-browser)/./src/components/canvas/EnhancedMeasurementTool.tsx\");\n/* harmony import */ var _EnhancedCalibrateDialog__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EnhancedCalibrateDialog */ \"(app-pages-browser)/./src/components/canvas/EnhancedCalibrateDialog.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\nconst CanvasEditor = (param)=>{\n    let { width = 1200, height = 800, className = '', onEquipmentAdd, placedEquipment = [], equipmentDefinitions, onEquipmentSelect, onEquipmentMove, onEquipmentRotate, onEquipmentDelete, selectedEquipmentId, backgroundImages = [], onBackgroundImageAdd, onBackgroundImageUpdate, onBackgroundImageDelete, onCanvasReady } = param;\n    _s();\n    const stageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Canvas configuration for 1,000,000 sq ft (1000ft x 1000ft)\n    const CANVAS_AREA_SQ_FT = 1000000;\n    const CANVAS_SIDE_FT = Math.sqrt(CANVAS_AREA_SQ_FT) // 1000 feet\n    ;\n    const PIXELS_PER_FOOT = 10 // Optimized for performance with ultra-large areas\n    ;\n    const CANVAS_SIZE_PIXELS = CANVAS_SIDE_FT * PIXELS_PER_FOOT // 10000 pixels\n    ;\n    const [canvasState, setCanvasState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        scale: 0.2,\n        x: 0,\n        y: 0\n    });\n    const [stageSize, setStageSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width,\n        height\n    });\n    const [gridVisible, setGridVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [backgroundManagerOpen, setBackgroundManagerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedBackgroundImageId, setSelectedBackgroundImageId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [scaleBarVisible, setScaleBarVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [measurementToolActive, setMeasurementToolActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [measurements, setMeasurements] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [activeMeasurementTool, setActiveMeasurementTool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [simpleMeasurements, setSimpleMeasurements] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showDistanceInput, setShowDistanceInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [distanceInputData, setDistanceInputData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Enhanced measurement workflow states\n    const [measurementEditMode, setMeasurementEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [currentMeasurement, setCurrentMeasurement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showCalibrateDialog, setShowCalibrateDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Handle canvas ready callback\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            if (isClient && onCanvasReady) {\n                // Use a timeout to ensure the stage is fully mounted\n                const timeout = setTimeout({\n                    \"CanvasEditor.useEffect.timeout\": ()=>{\n                        if (stageRef.current) {\n                            const container = stageRef.current.container();\n                            if (container) {\n                                console.log('Canvas ready, calling onCanvasReady with container:', container);\n                                onCanvasReady(container);\n                            }\n                        }\n                    }\n                }[\"CanvasEditor.useEffect.timeout\"], 100) // Small delay to ensure stage is mounted\n                ;\n                return ({\n                    \"CanvasEditor.useEffect\": ()=>clearTimeout(timeout)\n                })[\"CanvasEditor.useEffect\"];\n            }\n        }\n    }[\"CanvasEditor.useEffect\"], [\n        onCanvasReady,\n        isClient\n    ]);\n    // Handle window resize to make canvas responsive\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            const handleResize = {\n                \"CanvasEditor.useEffect.handleResize\": ()=>{\n                    if (stageRef.current) {\n                        const container = stageRef.current.container();\n                        const containerWidth = container.offsetWidth;\n                        const containerHeight = container.offsetHeight;\n                        setStageSize({\n                            width: containerWidth,\n                            height: containerHeight\n                        });\n                    }\n                }\n            }[\"CanvasEditor.useEffect.handleResize\"];\n            window.addEventListener('resize', handleResize);\n            handleResize(); // Initial call\n            return ({\n                \"CanvasEditor.useEffect\": ()=>window.removeEventListener('resize', handleResize)\n            })[\"CanvasEditor.useEffect\"];\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    // Handle zoom with mouse wheel\n    const handleWheel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleWheel]\": (e)=>{\n            e.evt.preventDefault();\n            const stage = e.target.getStage();\n            if (!stage) return;\n            const oldScale = stage.scaleX();\n            const pointer = stage.getPointerPosition();\n            if (!pointer) return;\n            // Zoom sensitivity\n            const scaleBy = 1.1;\n            const newScale = e.evt.deltaY > 0 ? oldScale / scaleBy : oldScale * scaleBy;\n            // Limit zoom range - allow zooming out to 4% to match Max Out button\n            const minScale = 0.04 // 4% minimum zoom\n            ;\n            const maxScale = 5;\n            const clampedScale = Math.max(minScale, Math.min(maxScale, newScale));\n            // Calculate new position to zoom towards mouse pointer\n            const mousePointTo = {\n                x: (pointer.x - stage.x()) / oldScale,\n                y: (pointer.y - stage.y()) / oldScale\n            };\n            const newPos = {\n                x: pointer.x - mousePointTo.x * clampedScale,\n                y: pointer.y - mousePointTo.y * clampedScale\n            };\n            stage.scale({\n                x: clampedScale,\n                y: clampedScale\n            });\n            stage.position(newPos);\n            stage.batchDraw();\n            setCanvasState({\n                scale: clampedScale,\n                x: newPos.x,\n                y: newPos.y\n            });\n        }\n    }[\"CanvasEditor.useCallback[handleWheel]\"], []);\n    // Handle panning with mouse drag\n    const handleDragEnd = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleDragEnd]\": (e)=>{\n            const stage = e.target;\n            setCanvasState({\n                \"CanvasEditor.useCallback[handleDragEnd]\": (prev)=>({\n                        ...prev,\n                        x: stage.x(),\n                        y: stage.y()\n                    })\n            }[\"CanvasEditor.useCallback[handleDragEnd]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleDragEnd]\"], []);\n    // Reset canvas to center and default zoom for 250k sq ft canvas\n    const resetCanvas = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[resetCanvas]\": ()=>{\n            const defaultScale = 0.2 // 20% zoom for large canvas overview\n            ;\n            const centerX = stageSize.width / 2 - CANVAS_SIZE_PIXELS / 2 * defaultScale;\n            const centerY = stageSize.height / 2 - CANVAS_SIZE_PIXELS / 2 * defaultScale;\n            if (stageRef.current) {\n                stageRef.current.scale({\n                    x: defaultScale,\n                    y: defaultScale\n                });\n                stageRef.current.position({\n                    x: centerX,\n                    y: centerY\n                });\n                stageRef.current.batchDraw();\n            }\n            setCanvasState({\n                scale: defaultScale,\n                x: centerX,\n                y: centerY\n            });\n        }\n    }[\"CanvasEditor.useCallback[resetCanvas]\"], [\n        stageSize,\n        CANVAS_SIZE_PIXELS\n    ]);\n    // Fit canvas to show all equipment with proper centering and zoom\n    const fitToContent = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[fitToContent]\": ()=>{\n            console.log('=== FIT TO CONTENT CALLED ===');\n            console.log('placedEquipment:', placedEquipment);\n            if (!placedEquipment || placedEquipment.length === 0) {\n                console.log('No equipment to fit to, resetting canvas');\n                resetCanvas();\n                return;\n            }\n            // Calculate bounding box of all equipment including their clearance zones\n            let minX = Infinity, maxX = -Infinity;\n            let minY = Infinity, maxY = -Infinity;\n            placedEquipment.forEach({\n                \"CanvasEditor.useCallback[fitToContent]\": (equipment)=>{\n                    const equipmentDef = equipmentDefinitions === null || equipmentDefinitions === void 0 ? void 0 : equipmentDefinitions.find({\n                        \"CanvasEditor.useCallback[fitToContent]\": (def)=>def.id === equipment.equipmentId\n                    }[\"CanvasEditor.useCallback[fitToContent]\"]);\n                    if (!equipmentDef) return;\n                    const dimensions = equipment.dimensions;\n                    const isCircular = dimensions.shape === 'circle';\n                    // Calculate equipment bounds including clearance\n                    const clearance = equipmentDef.rideClearing || 0;\n                    const clearancePixels = clearance * PIXELS_PER_FOOT;\n                    let equipmentMinX, equipmentMaxX, equipmentMinY, equipmentMaxY;\n                    if (isCircular) {\n                        const radius = dimensions.radius * PIXELS_PER_FOOT;\n                        equipmentMinX = equipment.x - radius - clearancePixels;\n                        equipmentMaxX = equipment.x + radius + clearancePixels;\n                        equipmentMinY = equipment.y - radius - clearancePixels;\n                        equipmentMaxY = equipment.y + radius + clearancePixels;\n                    } else {\n                        const width = dimensions.width * PIXELS_PER_FOOT;\n                        const height = dimensions.height * PIXELS_PER_FOOT;\n                        equipmentMinX = equipment.x - width / 2 - clearancePixels;\n                        equipmentMaxX = equipment.x + width / 2 + clearancePixels;\n                        equipmentMinY = equipment.y - height / 2 - clearancePixels;\n                        equipmentMaxY = equipment.y + height / 2 + clearancePixels;\n                    }\n                    minX = Math.min(minX, equipmentMinX);\n                    maxX = Math.max(maxX, equipmentMaxX);\n                    minY = Math.min(minY, equipmentMinY);\n                    maxY = Math.max(maxY, equipmentMaxY);\n                }\n            }[\"CanvasEditor.useCallback[fitToContent]\"]);\n            // Add padding around the bounding box\n            const padding = 100 // 100 pixels padding\n            ;\n            minX -= padding;\n            maxX += padding;\n            minY -= padding;\n            maxY += padding;\n            // Calculate the center of all equipment\n            const centerX = (minX + maxX) / 2;\n            const centerY = (minY + maxY) / 2;\n            // Calculate required scale to fit all equipment in viewport\n            const contentWidth = maxX - minX;\n            const contentHeight = maxY - minY;\n            const scaleX = stageSize.width / contentWidth;\n            const scaleY = stageSize.height / contentHeight;\n            const optimalScale = Math.min(scaleX, scaleY, 2) // Cap at 2x zoom\n            ;\n            // Calculate the position to center the content\n            const newX = stageSize.width / 2 - centerX * optimalScale;\n            const newY = stageSize.height / 2 - centerY * optimalScale;\n            // Apply the new view settings to both stage and state\n            console.log('Applying new canvas state:', {\n                scale: optimalScale,\n                x: newX,\n                y: newY,\n                contentBounds: {\n                    minX,\n                    maxX,\n                    minY,\n                    maxY\n                },\n                center: {\n                    centerX,\n                    centerY\n                }\n            });\n            if (stageRef.current) {\n                stageRef.current.scale({\n                    x: optimalScale,\n                    y: optimalScale\n                });\n                stageRef.current.position({\n                    x: newX,\n                    y: newY\n                });\n                stageRef.current.batchDraw();\n            }\n            setCanvasState({\n                scale: optimalScale,\n                x: newX,\n                y: newY\n            });\n        }\n    }[\"CanvasEditor.useCallback[fitToContent]\"], [\n        placedEquipment,\n        equipmentDefinitions,\n        stageSize,\n        resetCanvas\n    ]);\n    // Zoom in function\n    const zoomIn = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[zoomIn]\": ()=>{\n            if (!stageRef.current) return;\n            const stage = stageRef.current;\n            const oldScale = stage.scaleX();\n            const scaleBy = 1.1;\n            const newScale = Math.min(5, oldScale * scaleBy) // Max zoom 5x\n            ;\n            // Zoom towards center of visible area\n            const center = {\n                x: stageSize.width / 2,\n                y: stageSize.height / 2\n            };\n            const mousePointTo = {\n                x: (center.x - stage.x()) / oldScale,\n                y: (center.y - stage.y()) / oldScale\n            };\n            const newPos = {\n                x: center.x - mousePointTo.x * newScale,\n                y: center.y - mousePointTo.y * newScale\n            };\n            stage.scale({\n                x: newScale,\n                y: newScale\n            });\n            stage.position(newPos);\n            stage.batchDraw();\n            setCanvasState({\n                scale: newScale,\n                x: newPos.x,\n                y: newPos.y\n            });\n        }\n    }[\"CanvasEditor.useCallback[zoomIn]\"], [\n        stageSize\n    ]);\n    // Zoom out function\n    const zoomOut = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[zoomOut]\": ()=>{\n            if (!stageRef.current) return;\n            const stage = stageRef.current;\n            const oldScale = stage.scaleX();\n            const scaleBy = 1.1;\n            const newScale = Math.max(0.04, oldScale / scaleBy) // Min zoom 0.04x (4%)\n            ;\n            // Zoom towards center of visible area\n            const center = {\n                x: stageSize.width / 2,\n                y: stageSize.height / 2\n            };\n            const mousePointTo = {\n                x: (center.x - stage.x()) / oldScale,\n                y: (center.y - stage.y()) / oldScale\n            };\n            const newPos = {\n                x: center.x - mousePointTo.x * newScale,\n                y: center.y - mousePointTo.y * newScale\n            };\n            stage.scale({\n                x: newScale,\n                y: newScale\n            });\n            stage.position(newPos);\n            stage.batchDraw();\n            setCanvasState({\n                scale: newScale,\n                x: newPos.x,\n                y: newPos.y\n            });\n        }\n    }[\"CanvasEditor.useCallback[zoomOut]\"], [\n        stageSize\n    ]);\n    // Calculate visible bounds for performance optimization\n    const getVisibleBounds = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[getVisibleBounds]\": ()=>{\n            const buffer = 1000 // pixels buffer for smooth scrolling\n            ;\n            return {\n                minX: -canvasState.x / canvasState.scale - buffer,\n                maxX: (-canvasState.x + stageSize.width) / canvasState.scale + buffer,\n                minY: -canvasState.y / canvasState.scale - buffer,\n                maxY: (-canvasState.y + stageSize.height) / canvasState.scale + buffer\n            };\n        }\n    }[\"CanvasEditor.useCallback[getVisibleBounds]\"], [\n        canvasState.x,\n        canvasState.y,\n        canvasState.scale,\n        stageSize\n    ]);\n    // Handle measurement tool clicks\n    const handleMeasurementToolClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleMeasurementToolClick]\": (x, y)=>{\n            console.log('handleMeasurementToolClick called:', {\n                x,\n                y,\n                activeMeasurementTool\n            });\n            if (!activeMeasurementTool) return;\n            // Forward click to SimpleMeasurementTool via global handlers\n            const handlers = window.measurementToolHandlers;\n            console.log('Global handlers:', handlers);\n            if (handlers && handlers.handleClick) {\n                console.log('Calling handlers.handleClick');\n                handlers.handleClick(x, y);\n            } else {\n                console.log('No global handlers found');\n            }\n        }\n    }[\"CanvasEditor.useCallback[handleMeasurementToolClick]\"], [\n        activeMeasurementTool\n    ]);\n    // Handle double-click to complete area/perimeter measurements\n    const handleMeasurementToolDoubleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleMeasurementToolDoubleClick]\": (x, y)=>{\n            if (!activeMeasurementTool) return;\n            console.log('Double-click for measurement tool:', {\n                x,\n                y,\n                activeMeasurementTool\n            });\n            // Find incomplete measurement\n            const currentMeasurement = simpleMeasurements.find({\n                \"CanvasEditor.useCallback[handleMeasurementToolDoubleClick].currentMeasurement\": (m)=>!m.completed\n            }[\"CanvasEditor.useCallback[handleMeasurementToolDoubleClick].currentMeasurement\"]);\n            if (!currentMeasurement || currentMeasurement.points.length < 2) return;\n            let value = 0;\n            let label = '';\n            if (activeMeasurementTool === 'area') {\n                // Calculate area using shoelace formula\n                if (currentMeasurement.points.length < 3) return;\n                let area = 0;\n                const points = currentMeasurement.points;\n                const n = points.length;\n                for(let i = 0; i < n; i++){\n                    const j = (i + 1) % n;\n                    area += points[i].x * points[j].y;\n                    area -= points[j].x * points[i].y;\n                }\n                area = Math.abs(area) / 2;\n                value = area / (PIXELS_PER_FOOT * PIXELS_PER_FOOT // Convert to square feet\n                );\n                label = \"Area: \".concat(value.toFixed(0), \" sq ft\");\n            } else if (activeMeasurementTool === 'perimeter') {\n                // Calculate perimeter\n                let perimeter = 0;\n                const points = currentMeasurement.points;\n                for(let i = 0; i < points.length - 1; i++){\n                    const dx = points[i + 1].x - points[i].x;\n                    const dy = points[i + 1].y - points[i].y;\n                    perimeter += Math.sqrt(dx * dx + dy * dy);\n                }\n                // Close the perimeter (connect last point to first)\n                if (points.length > 2) {\n                    const dx = points[0].x - points[points.length - 1].x;\n                    const dy = points[0].y - points[points.length - 1].y;\n                    perimeter += Math.sqrt(dx * dx + dy * dy);\n                }\n                value = perimeter / PIXELS_PER_FOOT; // Convert to feet\n                label = \"Perimeter: \".concat(value.toFixed(0), \" ft\");\n            }\n            // Complete the measurement\n            const completedMeasurement = {\n                ...currentMeasurement,\n                value,\n                label,\n                completed: true\n            };\n            setSimpleMeasurements({\n                \"CanvasEditor.useCallback[handleMeasurementToolDoubleClick]\": (prev)=>prev.map({\n                        \"CanvasEditor.useCallback[handleMeasurementToolDoubleClick]\": (m)=>m.id === currentMeasurement.id ? completedMeasurement : m\n                    }[\"CanvasEditor.useCallback[handleMeasurementToolDoubleClick]\"])\n            }[\"CanvasEditor.useCallback[handleMeasurementToolDoubleClick]\"]);\n            console.log('Measurement completed:', completedMeasurement);\n        }\n    }[\"CanvasEditor.useCallback[handleMeasurementToolDoubleClick]\"], [\n        activeMeasurementTool,\n        simpleMeasurements,\n        PIXELS_PER_FOOT\n    ]);\n    // Enhanced measurement handlers\n    const handleEnhancedMeasurementPointSet = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleEnhancedMeasurementPointSet]\": (point)=>{\n            if (!currentMeasurement) return;\n            if (!currentMeasurement.firstPoint) {\n                // Set first point\n                setCurrentMeasurement({\n                    \"CanvasEditor.useCallback[handleEnhancedMeasurementPointSet]\": (prev)=>prev ? {\n                            ...prev,\n                            firstPoint: point\n                        } : null\n                }[\"CanvasEditor.useCallback[handleEnhancedMeasurementPointSet]\"]);\n            } else if (!currentMeasurement.secondPoint) {\n                // Set second point and complete measurement\n                const updatedMeasurement = {\n                    ...currentMeasurement,\n                    secondPoint: point,\n                    isComplete: true\n                };\n                setCurrentMeasurement(updatedMeasurement);\n                // Calculate distance and show calibration dialog\n                const dx = point.x - currentMeasurement.firstPoint.x;\n                const dy = point.y - currentMeasurement.firstPoint.y;\n                const pixelDistance = Math.sqrt(dx * dx + dy * dy);\n                const calculatedDistance = pixelDistance / PIXELS_PER_FOOT;\n                // Show calibration dialog after a short delay\n                setTimeout({\n                    \"CanvasEditor.useCallback[handleEnhancedMeasurementPointSet]\": ()=>{\n                        setShowCalibrateDialog(true);\n                    }\n                }[\"CanvasEditor.useCallback[handleEnhancedMeasurementPointSet]\"], 500);\n            }\n        }\n    }[\"CanvasEditor.useCallback[handleEnhancedMeasurementPointSet]\"], [\n        currentMeasurement,\n        PIXELS_PER_FOOT\n    ]);\n    const handleEnhancedMeasurementEdit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleEnhancedMeasurementEdit]\": (firstPoint, secondPoint)=>{\n            if (!currentMeasurement) return;\n            setCurrentMeasurement({\n                \"CanvasEditor.useCallback[handleEnhancedMeasurementEdit]\": (prev)=>prev ? {\n                        ...prev,\n                        firstPoint,\n                        secondPoint\n                    } : null\n            }[\"CanvasEditor.useCallback[handleEnhancedMeasurementEdit]\"]);\n        }\n    }[\"CanvasEditor.useCallback[handleEnhancedMeasurementEdit]\"], [\n        currentMeasurement\n    ]);\n    const handleCalibrateSubmit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleCalibrateSubmit]\": (actualDistance)=>{\n            if (!currentMeasurement || !currentMeasurement.firstPoint || !currentMeasurement.secondPoint) return;\n            // Calculate the scale factor\n            const dx = currentMeasurement.secondPoint.x - currentMeasurement.firstPoint.x;\n            const dy = currentMeasurement.secondPoint.y - currentMeasurement.firstPoint.y;\n            const pixelDistance = Math.sqrt(dx * dx + dy * dy);\n            const scaleFactor = actualDistance / (pixelDistance / PIXELS_PER_FOOT);\n            // Update the measurement with real-world distance\n            setCurrentMeasurement({\n                \"CanvasEditor.useCallback[handleCalibrateSubmit]\": (prev)=>prev ? {\n                        ...prev,\n                        realWorldDistance: actualDistance\n                    } : null\n            }[\"CanvasEditor.useCallback[handleCalibrateSubmit]\"]);\n            // Apply scale calibration to background images if any\n            if (backgroundImages && backgroundImages.length > 0 && onBackgroundImageUpdate) {\n                backgroundImages.forEach({\n                    \"CanvasEditor.useCallback[handleCalibrateSubmit]\": (image)=>{\n                        onBackgroundImageUpdate(image.id, {\n                            scaleX: (image.scaleX || 1) * scaleFactor,\n                            scaleY: (image.scaleY || 1) * scaleFactor\n                        });\n                    }\n                }[\"CanvasEditor.useCallback[handleCalibrateSubmit]\"]);\n            }\n            setShowCalibrateDialog(false);\n            console.log('Scale calibrated with factor:', scaleFactor);\n        }\n    }[\"CanvasEditor.useCallback[handleCalibrateSubmit]\"], [\n        currentMeasurement,\n        PIXELS_PER_FOOT,\n        backgroundImages,\n        onBackgroundImageUpdate\n    ]);\n    const handleCalibrateEdit = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleCalibrateEdit]\": ()=>{\n            setShowCalibrateDialog(false);\n            setMeasurementEditMode(true);\n        }\n    }[\"CanvasEditor.useCallback[handleCalibrateEdit]\"], []);\n    const handleCalibrateCancel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleCalibrateCancel]\": ()=>{\n            setShowCalibrateDialog(false);\n            // Optionally reset the measurement\n            setCurrentMeasurement(null);\n            setMeasurementToolActive(false);\n        }\n    }[\"CanvasEditor.useCallback[handleCalibrateCancel]\"], []);\n    // Handle canvas clicks for measurement tools\n    const handleCanvasClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleCanvasClick]\": (x, y)=>{\n            if (!activeMeasurementTool) return;\n            console.log('Canvas click for measurement tool (raw):', {\n                x,\n                y,\n                activeMeasurementTool\n            });\n            // Transform screen coordinates to canvas coordinates\n            // Account for canvas zoom and pan\n            const canvasX = (x - canvasState.x) / canvasState.scale;\n            const canvasY = (y - canvasState.y) / canvasState.scale;\n            console.log('Canvas click for measurement tool (transformed):', {\n                canvasX,\n                canvasY,\n                canvasState\n            });\n            const newPoint = {\n                x: canvasX,\n                y: canvasY\n            };\n            if (simpleMeasurements.some({\n                \"CanvasEditor.useCallback[handleCanvasClick]\": (m)=>!m.completed\n            }[\"CanvasEditor.useCallback[handleCanvasClick]\"])) {\n                // Continue existing measurement\n                const currentMeasurement = simpleMeasurements.find({\n                    \"CanvasEditor.useCallback[handleCanvasClick].currentMeasurement\": (m)=>!m.completed\n                }[\"CanvasEditor.useCallback[handleCanvasClick].currentMeasurement\"]);\n                if (currentMeasurement) {\n                    const updatedPoints = [\n                        ...currentMeasurement.points,\n                        newPoint\n                    ];\n                    // For distance tool, complete after 2 points\n                    if (activeMeasurementTool === 'distance' && updatedPoints.length === 2) {\n                        const distance = Math.sqrt(Math.pow(updatedPoints[1].x - updatedPoints[0].x, 2) + Math.pow(updatedPoints[1].y - updatedPoints[0].y, 2)) / PIXELS_PER_FOOT;\n                        const completedMeasurement = {\n                            ...currentMeasurement,\n                            points: updatedPoints,\n                            value: distance,\n                            label: \"Distance: \".concat(distance.toFixed(0), \" ft\"),\n                            completed: true\n                        };\n                        setSimpleMeasurements({\n                            \"CanvasEditor.useCallback[handleCanvasClick]\": (prev)=>prev.map({\n                                    \"CanvasEditor.useCallback[handleCanvasClick]\": (m)=>m.id === currentMeasurement.id ? completedMeasurement : m\n                                }[\"CanvasEditor.useCallback[handleCanvasClick]\"])\n                        }[\"CanvasEditor.useCallback[handleCanvasClick]\"]);\n                    } else {\n                        // Update current measurement with new point\n                        setSimpleMeasurements({\n                            \"CanvasEditor.useCallback[handleCanvasClick]\": (prev)=>prev.map({\n                                    \"CanvasEditor.useCallback[handleCanvasClick]\": (m)=>m.id === currentMeasurement.id ? {\n                                            ...m,\n                                            points: updatedPoints\n                                        } : m\n                                }[\"CanvasEditor.useCallback[handleCanvasClick]\"])\n                        }[\"CanvasEditor.useCallback[handleCanvasClick]\"]);\n                    }\n                }\n            } else {\n                // Start new measurement\n                const newMeasurement = {\n                    id: \"\".concat(activeMeasurementTool, \"-\").concat(Date.now()),\n                    type: activeMeasurementTool,\n                    points: [\n                        newPoint\n                    ],\n                    value: 0,\n                    label: '',\n                    completed: false\n                };\n                setSimpleMeasurements({\n                    \"CanvasEditor.useCallback[handleCanvasClick]\": (prev)=>[\n                            ...prev,\n                            newMeasurement\n                        ]\n                }[\"CanvasEditor.useCallback[handleCanvasClick]\"]);\n            }\n        }\n    }[\"CanvasEditor.useCallback[handleCanvasClick]\"], [\n        activeMeasurementTool,\n        simpleMeasurements,\n        PIXELS_PER_FOOT\n    ]);\n    // Handle stage click to deselect equipment when clicking on empty canvas\n    const handleStageClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleStageClick]\": (e)=>{\n            // Check if we clicked on the stage itself (not on any equipment)\n            const clickedOnEmpty = e.target === e.target.getStage();\n            if (clickedOnEmpty) {\n                const stage = e.target.getStage();\n                const pos = stage.getPointerPosition();\n                // If enhanced measurement tool is active, handle the click\n                if (measurementToolActive && !activeMeasurementTool && pos) {\n                    const canvasX = (pos.x - canvasState.x) / canvasState.scale;\n                    const canvasY = (pos.y - canvasState.y) / canvasState.scale;\n                    // Forward to enhanced measurement handlers\n                    const handlers = window.enhancedMeasurementHandlers;\n                    if (handlers && handlers.handleClick) {\n                        handlers.handleClick({\n                            target: {\n                                getStage: {\n                                    \"CanvasEditor.useCallback[handleStageClick]\": ()=>stage\n                                }[\"CanvasEditor.useCallback[handleStageClick]\"]\n                            }\n                        });\n                    }\n                    return;\n                }\n                // If a simple measurement tool is active, handle the click for measurement\n                if (activeMeasurementTool && pos) {\n                    handleCanvasClick(pos.x, pos.y);\n                    return;\n                }\n                // Otherwise, deselect equipment\n                onEquipmentSelect === null || onEquipmentSelect === void 0 ? void 0 : onEquipmentSelect(null);\n                setSelectedBackgroundImageId(null);\n            }\n        }\n    }[\"CanvasEditor.useCallback[handleStageClick]\"], [\n        onEquipmentSelect,\n        activeMeasurementTool,\n        measurementToolActive,\n        handleCanvasClick,\n        canvasState\n    ]);\n    // Handle stage double click for measurement tools\n    const handleStageDoubleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleStageDoubleClick]\": (e)=>{\n            if (!activeMeasurementTool) return;\n            const stage = e.target.getStage();\n            const pos = stage.getPointerPosition();\n            if (pos) {\n                // Transform screen coordinates to canvas coordinates\n                const canvasX = (pos.x - canvasState.x) / canvasState.scale;\n                const canvasY = (pos.y - canvasState.y) / canvasState.scale;\n                console.log('Double-click for measurement tool:', {\n                    x: canvasX,\n                    y: canvasY,\n                    activeMeasurementTool\n                });\n                // Complete the current measurement\n                setSimpleMeasurements({\n                    \"CanvasEditor.useCallback[handleStageDoubleClick]\": (prev)=>{\n                        const currentMeasurement = prev.find({\n                            \"CanvasEditor.useCallback[handleStageDoubleClick].currentMeasurement\": (m)=>!m.completed\n                        }[\"CanvasEditor.useCallback[handleStageDoubleClick].currentMeasurement\"]);\n                        if (!currentMeasurement) return prev;\n                        // Add the final point for area and perimeter measurements\n                        if (activeMeasurementTool === 'area' || activeMeasurementTool === 'perimeter') {\n                            const updatedPoints = [\n                                ...currentMeasurement.points,\n                                {\n                                    x: canvasX,\n                                    y: canvasY\n                                }\n                            ];\n                            // Calculate the measurement value\n                            let value = 0;\n                            let label = '';\n                            if (activeMeasurementTool === 'area' && updatedPoints.length >= 3) {\n                                // Calculate area using shoelace formula\n                                let area = 0;\n                                for(let i = 0; i < updatedPoints.length; i++){\n                                    const j = (i + 1) % updatedPoints.length;\n                                    area += updatedPoints[i].x * updatedPoints[j].y;\n                                    area -= updatedPoints[j].x * updatedPoints[i].y;\n                                }\n                                area = Math.abs(area) / 2;\n                                // Convert from pixels to square feet\n                                const areaInSqFt = area / (PIXELS_PER_FOOT * PIXELS_PER_FOOT);\n                                value = Math.round(areaInSqFt);\n                                label = \"Area: \".concat(value.toLocaleString(), \" sq ft\");\n                            } else if (activeMeasurementTool === 'perimeter' && updatedPoints.length >= 2) {\n                                // Calculate perimeter (sum of all segments + closing segment)\n                                let perimeter = 0;\n                                for(let i = 0; i < updatedPoints.length - 1; i++){\n                                    const dx = updatedPoints[i + 1].x - updatedPoints[i].x;\n                                    const dy = updatedPoints[i + 1].y - updatedPoints[i].y;\n                                    perimeter += Math.sqrt(dx * dx + dy * dy);\n                                }\n                                // Add closing segment\n                                const dx = updatedPoints[0].x - updatedPoints[updatedPoints.length - 1].x;\n                                const dy = updatedPoints[0].y - updatedPoints[updatedPoints.length - 1].y;\n                                perimeter += Math.sqrt(dx * dx + dy * dy);\n                                // Convert from pixels to feet\n                                const perimeterInFt = perimeter / PIXELS_PER_FOOT;\n                                value = Math.round(perimeterInFt);\n                                label = \"Perimeter: \".concat(value.toLocaleString(), \" ft\");\n                            }\n                            console.log('Measurement completed:', {\n                                id: currentMeasurement.id,\n                                value,\n                                label,\n                                completed: true\n                            });\n                            return prev.map({\n                                \"CanvasEditor.useCallback[handleStageDoubleClick]\": (m)=>m.id === currentMeasurement.id ? {\n                                        ...m,\n                                        points: updatedPoints,\n                                        value,\n                                        label,\n                                        completed: true\n                                    } : m\n                            }[\"CanvasEditor.useCallback[handleStageDoubleClick]\"]);\n                        }\n                        return prev;\n                    }\n                }[\"CanvasEditor.useCallback[handleStageDoubleClick]\"]);\n                // Deactivate the measurement tool\n                setActiveMeasurementTool(null);\n            }\n        }\n    }[\"CanvasEditor.useCallback[handleStageDoubleClick]\"], [\n        activeMeasurementTool,\n        canvasState,\n        PIXELS_PER_FOOT\n    ]);\n    // Background image management functions\n    const handleBackgroundImageAdd = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)({\n        \"CanvasEditor.useCallback[handleBackgroundImageAdd]\": (image)=>{\n            const imageWithId = {\n                ...image,\n                id: \"bg-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9))\n            };\n            onBackgroundImageAdd === null || onBackgroundImageAdd === void 0 ? void 0 : onBackgroundImageAdd(imageWithId);\n        }\n    }[\"CanvasEditor.useCallback[handleBackgroundImageAdd]\"], [\n        onBackgroundImageAdd\n    ]);\n    const handleBackgroundImageSelect = (imageId)=>{\n        setSelectedBackgroundImageId(imageId);\n    };\n    const calibrateImageScale = (actualDistance, calculatedDistance)=>{\n        // Calculate the scale correction factor\n        const scaleCorrection = actualDistance / calculatedDistance;\n        // Apply the correction to all background images\n        backgroundImages.forEach((image)=>{\n            if (onBackgroundImageUpdate) {\n                onBackgroundImageUpdate(image.id, {\n                    scaleX: image.scaleX * scaleCorrection,\n                    scaleY: image.scaleY * scaleCorrection\n                });\n            }\n        });\n        console.log(\"Scale calibrated: \".concat(scaleCorrection.toFixed(3), \"x correction applied to \").concat(backgroundImages.length, \" background images\"));\n    };\n    const handleShowDistanceInput = (calculatedDistance, onSubmit, onCancel)=>{\n        setDistanceInputData({\n            calculatedDistance,\n            onSubmit: (actualDistance)=>{\n                // Calibrate the image scale automatically\n                calibrateImageScale(actualDistance, calculatedDistance);\n                onSubmit(actualDistance);\n                setShowDistanceInput(false);\n                setDistanceInputData(null);\n            },\n            onCancel: ()=>{\n                onCancel();\n                setShowDistanceInput(false);\n                setDistanceInputData(null);\n            }\n        });\n        setShowDistanceInput(true);\n    };\n    // Ensure client-side only rendering to prevent hydration mismatches\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"CanvasEditor.useEffect\": ()=>{\n            setIsClient(true);\n        }\n    }[\"CanvasEditor.useEffect\"], []);\n    // Don't render canvas during SSR to prevent hydration mismatches\n    if (!isClient) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"relative w-full h-full \".concat(className, \" flex items-center justify-center bg-gray-50\"),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-gray-500\",\n                children: \"Loading canvas...\"\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                lineNumber: 790,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n            lineNumber: 789,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative w-full h-full \".concat(className),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-4 right-4 z-10 flex flex-col gap-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: resetCanvas,\n                        className: \"px-3 py-1 bg-white border border-gray-300 rounded shadow hover:bg-gray-50 text-sm text-gray-900\",\n                        title: \"Reset View\",\n                        children: \"Reset\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                        lineNumber: 799,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: fitToContent,\n                        className: \"px-3 py-1 bg-white border border-gray-300 rounded shadow hover:bg-gray-50 text-sm text-gray-900\",\n                        title: \"Fit to Content\",\n                        children: \"Fit\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                        lineNumber: 806,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex space-x-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: zoomIn,\n                                        className: \"flex-1 px-6 py-1 bg-white border border-gray-300 rounded shadow hover:bg-gray-50 text-sm text-gray-900 text-center\",\n                                        title: \"Zoom In\",\n                                        children: \"+\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                        lineNumber: 817,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: zoomOut,\n                                        className: \"flex-1 px-6 py-1 bg-white border border-gray-300 rounded shadow hover:bg-gray-50 text-sm text-gray-900 text-center\",\n                                        title: \"Zoom Out\",\n                                        children: \"−\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                        lineNumber: 824,\n                                        columnNumber: 13\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 816,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-sm text-gray-900 font-medium bg-white px-3 py-1 rounded border border-gray-300 shadow text-center flex items-center justify-center\",\n                                children: [\n                                    \"Zoom (\",\n                                    Math.round(canvasState.scale * 100),\n                                    \"%)\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 834,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    if (!stageRef.current) return;\n                                    const stage = stageRef.current;\n                                    // If there are background images, fit the largest one; otherwise fit canvas\n                                    if (backgroundImages && backgroundImages.length > 0) {\n                                        // Find the largest background image dimensions\n                                        let maxWidth = 0;\n                                        let maxHeight = 0;\n                                        let targetImage = null;\n                                        backgroundImages.forEach((img)=>{\n                                            const imgWidth = (img.width || 0) * (img.scaleX || 1);\n                                            const imgHeight = (img.height || 0) * (img.scaleY || 1);\n                                            const imgArea = imgWidth * imgHeight;\n                                            const currentMaxArea = maxWidth * maxHeight;\n                                            if (imgArea > currentMaxArea) {\n                                                maxWidth = imgWidth;\n                                                maxHeight = imgHeight;\n                                                targetImage = img;\n                                            }\n                                        });\n                                        if (maxWidth > 0 && maxHeight > 0) {\n                                            // Calculate scale to fit the largest background image\n                                            const scaleX = stageSize.width / maxWidth;\n                                            const scaleY = stageSize.height / maxHeight;\n                                            const fitScale = Math.min(scaleX, scaleY) * 0.9 // 90% padding\n                                            ;\n                                            // Center the image in the viewport\n                                            const centerX = (stageSize.width - maxWidth * fitScale) / 2;\n                                            const centerY = (stageSize.height - maxHeight * fitScale) / 2;\n                                            // If image has position, account for it\n                                            const adjustedX = centerX - ((targetImage === null || targetImage === void 0 ? void 0 : targetImage.x) || 0) * fitScale;\n                                            const adjustedY = centerY - ((targetImage === null || targetImage === void 0 ? void 0 : targetImage.y) || 0) * fitScale;\n                                            stage.scale({\n                                                x: fitScale,\n                                                y: fitScale\n                                            });\n                                            stage.position({\n                                                x: adjustedX,\n                                                y: adjustedY\n                                            });\n                                            stage.batchDraw();\n                                            setCanvasState({\n                                                scale: fitScale,\n                                                x: adjustedX,\n                                                y: adjustedY\n                                            });\n                                            console.log(\"Max Out: Fit satellite image (\".concat(Math.round(maxWidth), \"x\").concat(Math.round(maxHeight), \"px) in viewport (\").concat(stageSize.width, \"x\").concat(stageSize.height, \"px) at \").concat(Math.round(fitScale * 100), \"% zoom\"));\n                                            return;\n                                        }\n                                    }\n                                    // Fallback: fit entire canvas if no background images\n                                    const scaleX = stageSize.width / CANVAS_SIZE_PIXELS;\n                                    const scaleY = stageSize.height / CANVAS_SIZE_PIXELS;\n                                    const fitScale = Math.min(scaleX, scaleY) * 0.9 // 90% to add some padding\n                                    ;\n                                    // Center the canvas in the viewport\n                                    const centerX = (stageSize.width - CANVAS_SIZE_PIXELS * fitScale) / 2;\n                                    const centerY = (stageSize.height - CANVAS_SIZE_PIXELS * fitScale) / 2;\n                                    stage.scale({\n                                        x: fitScale,\n                                        y: fitScale\n                                    });\n                                    stage.position({\n                                        x: centerX,\n                                        y: centerY\n                                    });\n                                    stage.batchDraw();\n                                    setCanvasState({\n                                        scale: fitScale,\n                                        x: centerX,\n                                        y: centerY\n                                    });\n                                    console.log(\"Max Out: Fit entire canvas (\".concat(CANVAS_SIZE_PIXELS, \"px) in viewport (\").concat(stageSize.width, \"x\").concat(stageSize.height, \"px) at \").concat(Math.round(fitScale * 100), \"% zoom\"));\n                                },\n                                className: \"px-3 py-1 bg-white border border-gray-300 rounded shadow hover:bg-gray-50 text-sm text-gray-900 text-center\",\n                                title: \"Fit Entire Satellite Image in View\",\n                                children: \"Max Out\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 839,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                        lineNumber: 815,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setGridVisible(!gridVisible),\n                        className: \"px-3 py-1 border rounded shadow text-sm \".concat(gridVisible ? 'bg-blue-500 text-white border-blue-500' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'),\n                        title: \"Toggle Grid\",\n                        children: \"Grid\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                        lineNumber: 921,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setBackgroundManagerOpen(true),\n                        className: \"px-3 py-1 bg-white border border-gray-300 rounded shadow hover:bg-gray-50 text-sm text-gray-900\",\n                        title: \"Manage Background Images\",\n                        children: \"Images\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                        lineNumber: 932,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>setScaleBarVisible(!scaleBarVisible),\n                        className: \"px-3 py-1 border rounded shadow text-sm \".concat(scaleBarVisible ? 'bg-green-500 text-white border-green-500' : 'bg-white text-gray-700 border-gray-300 hover:bg-gray-50'),\n                        title: \"Toggle Scale Bar\",\n                        children: \"Scale\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                        lineNumber: 939,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex space-x-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    if (measurementToolActive) {\n                                        // Reset measurement if already active\n                                        setCurrentMeasurement(null);\n                                        setMeasurementToolActive(false);\n                                        setMeasurementEditMode(false);\n                                    } else {\n                                        // Start new measurement\n                                        setCurrentMeasurement({\n                                            id: Date.now().toString(),\n                                            firstPoint: null,\n                                            secondPoint: null,\n                                            isComplete: false\n                                        });\n                                        setMeasurementToolActive(true);\n                                        setMeasurementEditMode(false);\n                                    }\n                                },\n                                className: \"px-3 py-1 border rounded shadow text-sm transition-colors \".concat(measurementToolActive && !measurementEditMode ? 'bg-orange-500 text-white border-orange-500' : 'bg-white text-gray-900 border-gray-300 hover:bg-gray-50'),\n                                title: \"Start New Measurement\",\n                                children: \"\\uD83D\\uDCCF Measure\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 952,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    if (currentMeasurement === null || currentMeasurement === void 0 ? void 0 : currentMeasurement.isComplete) {\n                                        setMeasurementEditMode(!measurementEditMode);\n                                    }\n                                },\n                                disabled: !(currentMeasurement === null || currentMeasurement === void 0 ? void 0 : currentMeasurement.isComplete),\n                                className: \"px-3 py-1 border rounded shadow text-sm transition-colors \".concat(measurementEditMode ? 'bg-blue-500 text-white border-blue-500' : (currentMeasurement === null || currentMeasurement === void 0 ? void 0 : currentMeasurement.isComplete) ? 'bg-white text-gray-900 border-gray-300 hover:bg-gray-50' : 'bg-gray-200 text-gray-400 border-gray-200 cursor-not-allowed'),\n                                title: \"Edit Measurement Line\",\n                                children: \"✏️ Edit\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 981,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>{\n                                    if (currentMeasurement === null || currentMeasurement === void 0 ? void 0 : currentMeasurement.isComplete) {\n                                        setShowCalibrateDialog(true);\n                                    }\n                                },\n                                disabled: !(currentMeasurement === null || currentMeasurement === void 0 ? void 0 : currentMeasurement.isComplete),\n                                className: \"px-3 py-1 border rounded shadow text-sm transition-colors \".concat((currentMeasurement === null || currentMeasurement === void 0 ? void 0 : currentMeasurement.isComplete) ? 'bg-white text-gray-900 border-gray-300 hover:bg-gray-50' : 'bg-gray-200 text-gray-400 border-gray-200 cursor-not-allowed'),\n                                title: \"Calibrate Scale\",\n                                children: \"\\uD83C\\uDFAF Calibrate\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 1000,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                        lineNumber: 951,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex space-x-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setActiveMeasurementTool(activeMeasurementTool === 'area' ? null : 'area'),\n                                className: \"px-3 py-2 rounded text-sm font-medium transition-colors \".concat(activeMeasurementTool === 'area' ? 'bg-green-500 text-white' : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'),\n                                title: \"Area Measurement Tool\",\n                                children: \"\\uD83D\\uDCD0 Area\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 1020,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setActiveMeasurementTool(activeMeasurementTool === 'perimeter' ? null : 'perimeter'),\n                                className: \"px-3 py-2 rounded text-sm font-medium transition-colors \".concat(activeMeasurementTool === 'perimeter' ? 'bg-blue-500 text-white' : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'),\n                                title: \"Perimeter Measurement Tool\",\n                                children: \"\\uD83D\\uDCCF Perimeter\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 1032,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>setActiveMeasurementTool(activeMeasurementTool === 'distance' ? null : 'distance'),\n                                className: \"px-3 py-2 rounded text-sm font-medium transition-colors \".concat(activeMeasurementTool === 'distance' ? 'bg-amber-500 text-white' : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'),\n                                title: \"Distance Measurement Tool\",\n                                children: \"\\uD83D\\uDCCF Distance\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                                lineNumber: 1044,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                        lineNumber: 1019,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                lineNumber: 798,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Stage, {\n                ref: stageRef,\n                width: stageSize.width,\n                height: stageSize.height,\n                draggable: !measurementToolActive && !activeMeasurementTool,\n                onWheel: handleWheel,\n                onDragEnd: handleDragEnd,\n                onClick: handleStageClick,\n                onDblClick: handleStageDoubleClick,\n                className: \"border border-gray-300 bg-gray-50\",\n                onContentMouseDown: ()=>{\n                    // Ensure canvas element is captured after stage is fully mounted\n                    if (stageRef.current && onCanvasReady) {\n                        const container = stageRef.current.container();\n                        if (container) {\n                            console.log('Stage mounted, capturing canvas element:', container);\n                            onCanvasReady(container);\n                        }\n                    }\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_BackgroundLayer__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            images: backgroundImages,\n                            onImageUpdate: onBackgroundImageUpdate,\n                            onImageDelete: onBackgroundImageDelete,\n                            onImageSelect: handleBackgroundImageSelect,\n                            selectedImageId: selectedBackgroundImageId,\n                            scale: canvasState.scale,\n                            editable: true\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                            lineNumber: 1086,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_GridLayer__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            width: CANVAS_SIZE_PIXELS,\n                            height: CANVAS_SIZE_PIXELS,\n                            scale: canvasState.scale,\n                            x: canvasState.x,\n                            y: canvasState.y,\n                            visible: gridVisible,\n                            gridSize: PIXELS_PER_FOOT\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                            lineNumber: 1097,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_EquipmentLayer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            equipment: placedEquipment,\n                            equipmentDefinitions: equipmentDefinitions,\n                            scale: canvasState.scale,\n                            onEquipmentSelect: onEquipmentSelect,\n                            onEquipmentMove: onEquipmentMove,\n                            onEquipmentRotate: onEquipmentRotate,\n                            onEquipmentDelete: onEquipmentDelete,\n                            selectedEquipmentId: selectedEquipmentId,\n                            snapToGrid: true,\n                            gridSize: PIXELS_PER_FOOT\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                            lineNumber: 1108,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_EnhancedMeasurementTool__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                            isActive: measurementToolActive && !activeMeasurementTool,\n                            editMode: measurementEditMode,\n                            scale: canvasState.scale,\n                            pixelsPerFoot: PIXELS_PER_FOOT,\n                            currentMeasurement: currentMeasurement,\n                            onPointSet: handleEnhancedMeasurementPointSet,\n                            onMeasurementComplete: (distance)=>{\n                                console.log('Enhanced measurement completed:', distance);\n                            },\n                            onMeasurementEdit: handleEnhancedMeasurementEdit\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                            lineNumber: 1122,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MeasurementTool__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                            isActive: false,\n                            scale: canvasState.scale,\n                            pixelsPerFoot: PIXELS_PER_FOOT,\n                            onMeasurementComplete: (measurement)=>{\n                                setMeasurements((prev)=>[\n                                        ...prev,\n                                        measurement\n                                    ]);\n                                console.log('New measurement:', measurement);\n                            },\n                            onShowDistanceInput: handleShowDistanceInput\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                            lineNumber: 1136,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_SimpleMeasurementTool__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                            activeTool: activeMeasurementTool,\n                            scale: canvasState.scale,\n                            pixelsPerFoot: PIXELS_PER_FOOT,\n                            measurements: simpleMeasurements,\n                            onMeasurementComplete: (measurement)=>{\n                                setSimpleMeasurements((prev)=>[\n                                        ...prev,\n                                        measurement\n                                    ]);\n                            },\n                            onMeasurementDelete: (id)=>{\n                                setSimpleMeasurements((prev)=>prev.filter((m)=>m.id !== id));\n                            }\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                            lineNumber: 1148,\n                            columnNumber: 11\n                        }, undefined),\n                        scaleBarVisible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ScaleBar__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                            scale: canvasState.scale,\n                            canvasWidth: stageSize.width,\n                            canvasHeight: stageSize.height,\n                            pixelsPerFoot: PIXELS_PER_FOOT\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                            lineNumber: 1163,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                    lineNumber: 1084,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                lineNumber: 1063,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_BackgroundImageManager__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                images: backgroundImages,\n                onImageAdd: handleBackgroundImageAdd,\n                onImageUpdate: onBackgroundImageUpdate || (()=>{}),\n                onImageDelete: onBackgroundImageDelete || (()=>{}),\n                onImageSelect: handleBackgroundImageSelect,\n                selectedImageId: selectedBackgroundImageId,\n                isOpen: backgroundManagerOpen,\n                onClose: ()=>setBackgroundManagerOpen(false)\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                lineNumber: 1174,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_DistanceInputModal__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                isOpen: showDistanceInput,\n                calculatedDistance: (distanceInputData === null || distanceInputData === void 0 ? void 0 : distanceInputData.calculatedDistance) || 0,\n                onSubmit: (distanceInputData === null || distanceInputData === void 0 ? void 0 : distanceInputData.onSubmit) || (()=>{}),\n                onCancel: (distanceInputData === null || distanceInputData === void 0 ? void 0 : distanceInputData.onCancel) || (()=>{})\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                lineNumber: 1186,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_EnhancedCalibrateDialog__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                isOpen: showCalibrateDialog,\n                calculatedDistance: currentMeasurement && currentMeasurement.firstPoint && currentMeasurement.secondPoint ? Math.sqrt(Math.pow(currentMeasurement.secondPoint.x - currentMeasurement.firstPoint.x, 2) + Math.pow(currentMeasurement.secondPoint.y - currentMeasurement.firstPoint.y, 2)) / PIXELS_PER_FOOT : 0,\n                onSubmit: handleCalibrateSubmit,\n                onEdit: handleCalibrateEdit,\n                onCancel: handleCalibrateCancel\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n                lineNumber: 1194,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\scale\\\\CascadeProjects\\\\FrazierShows Apps\\\\Lot Planner\\\\src\\\\components\\\\canvas\\\\CanvasEditor.tsx\",\n        lineNumber: 796,\n        columnNumber: 5\n    }, undefined);\n};\n_s(CanvasEditor, \"FD1N4juQo+zangP88CLFAsmwu1w=\");\n_c = CanvasEditor;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CanvasEditor);\nvar _c;\n$RefreshReg$(_c, \"CanvasEditor\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2NhbnZhcy9DYW52YXNFZGl0b3IudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXVFO0FBQzdCO0FBRVA7QUFDVTtBQUN1QjtBQUNQO0FBQzVCO0FBQ29DO0FBQ2hCO0FBQzZCO0FBQ25CO0FBQ0E7QUE0Qi9ELE1BQU1pQixlQUE0QztRQUFDLEVBQ2pEQyxRQUFRLElBQUksRUFDWkMsU0FBUyxHQUFHLEVBQ1pDLFlBQVksRUFBRSxFQUNkQyxjQUFjLEVBQ2RDLGtCQUFrQixFQUFFLEVBQ3BCQyxvQkFBb0IsRUFDcEJDLGlCQUFpQixFQUNqQkMsZUFBZSxFQUNmQyxpQkFBaUIsRUFDakJDLGlCQUFpQixFQUNqQkMsbUJBQW1CLEVBQ25CQyxtQkFBbUIsRUFBRSxFQUNyQkMsb0JBQW9CLEVBQ3BCQyx1QkFBdUIsRUFDdkJDLHVCQUF1QixFQUN2QkMsYUFBYSxFQUNkOztJQUNDLE1BQU1DLFdBQVdqQyw2Q0FBTUEsQ0FBYztJQUNyQyxNQUFNLENBQUNrQyxVQUFVQyxZQUFZLEdBQUdqQywrQ0FBUUEsQ0FBQztJQUV6Qyw2REFBNkQ7SUFDN0QsTUFBTWtDLG9CQUFvQjtJQUMxQixNQUFNQyxpQkFBaUJDLEtBQUtDLElBQUksQ0FBQ0gsbUJBQW1CLFlBQVk7O0lBQ2hFLE1BQU1JLGtCQUFrQixHQUFHLG1EQUFtRDs7SUFDOUUsTUFBTUMscUJBQXFCSixpQkFBaUJHLGdCQUFnQixlQUFlOztJQUUzRSxNQUFNLENBQUNFLGFBQWFDLGVBQWUsR0FBR3pDLCtDQUFRQSxDQUFjO1FBQzFEMEMsT0FBTztRQUNQQyxHQUFHO1FBQ0hDLEdBQUc7SUFDTDtJQUNBLE1BQU0sQ0FBQ0MsV0FBV0MsYUFBYSxHQUFHOUMsK0NBQVFBLENBQUM7UUFBRWU7UUFBT0M7SUFBTztJQUMzRCxNQUFNLENBQUMrQixhQUFhQyxlQUFlLEdBQUdoRCwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNpRCx1QkFB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LFlBQVlBLEVBQUEiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcc2NhbGVcXENhc2NhZGVQcm9qZWN0c1xcRnJhemllclNob3dzIEFwcHNcXExvdCBQbGFubmVyXFxzcmNcXGNvbXBvbmVudHNcXGNhbnZhc1xcQ2FudmFzRWRpdG9yLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFN0YWdlLCBMYXllciB9IGZyb20gJ3JlYWN0LWtvbnZhJ1xuaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJ1xuaW1wb3J0IEdyaWRMYXllciBmcm9tICcuL0dyaWRMYXllcidcbmltcG9ydCBFcXVpcG1lbnRMYXllciBmcm9tICcuL0VxdWlwbWVudExheWVyJ1xuaW1wb3J0IEJhY2tncm91bmRMYXllciwgeyBCYWNrZ3JvdW5kSW1hZ2UgfSBmcm9tICcuL0JhY2tncm91bmRMYXllcidcbmltcG9ydCBCYWNrZ3JvdW5kSW1hZ2VNYW5hZ2VyIGZyb20gJy4vQmFja2dyb3VuZEltYWdlTWFuYWdlcidcbmltcG9ydCBTY2FsZUJhciBmcm9tICcuL1NjYWxlQmFyJ1xuaW1wb3J0IE1lYXN1cmVtZW50VG9vbCwgeyB0eXBlIE1lYXN1cmVtZW50IH0gZnJvbSAnLi9NZWFzdXJlbWVudFRvb2wnXG5pbXBvcnQgRGlzdGFuY2VJbnB1dE1vZGFsIGZyb20gJy4vRGlzdGFuY2VJbnB1dE1vZGFsJ1xuaW1wb3J0IFNpbXBsZU1lYXN1cmVtZW50VG9vbCwgeyBTaW1wbGVNZWFzdXJlbWVudCB9IGZyb20gJy4vU2ltcGxlTWVhc3VyZW1lbnRUb29sJ1xuaW1wb3J0IEVuaGFuY2VkTWVhc3VyZW1lbnRUb29sIGZyb20gJy4vRW5oYW5jZWRNZWFzdXJlbWVudFRvb2wnXG5pbXBvcnQgRW5oYW5jZWRDYWxpYnJhdGVEaWFsb2cgZnJvbSAnLi9FbmhhbmNlZENhbGlicmF0ZURpYWxvZydcbmltcG9ydCB7IFBsYWNlZEVxdWlwbWVudCwgRXF1aXBtZW50SXRlbSB9IGZyb20gJ0AvbGliL2VxdWlwbWVudC90eXBlcydcblxuaW50ZXJmYWNlIENhbnZhc0VkaXRvclByb3BzIHtcbiAgd2lkdGg/OiBudW1iZXJcbiAgaGVpZ2h0PzogbnVtYmVyXG4gIGNsYXNzTmFtZT86IHN0cmluZ1xuICBvbkVxdWlwbWVudEFkZD86IChlcXVpcG1lbnQ6IEVxdWlwbWVudEl0ZW0sIHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB2b2lkXG4gIHBsYWNlZEVxdWlwbWVudD86IFBsYWNlZEVxdWlwbWVudFtdXG4gIGVxdWlwbWVudERlZmluaXRpb25zPzogRXF1aXBtZW50SXRlbVtdXG4gIG9uRXF1aXBtZW50U2VsZWN0PzogKGVxdWlwbWVudDogUGxhY2VkRXF1aXBtZW50IHwgbnVsbCkgPT4gdm9pZFxuICBvbkVxdWlwbWVudE1vdmU/OiAoZXF1aXBtZW50SWQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHZvaWRcbiAgb25FcXVpcG1lbnRSb3RhdGU/OiAoZXF1aXBtZW50SWQ6IHN0cmluZywgcm90YXRpb246IG51bWJlcikgPT4gdm9pZFxuICBvbkVxdWlwbWVudERlbGV0ZT86IChlcXVpcG1lbnRJZDogc3RyaW5nKSA9PiB2b2lkXG4gIHNlbGVjdGVkRXF1aXBtZW50SWQ/OiBzdHJpbmdcbiAgYmFja2dyb3VuZEltYWdlcz86IEJhY2tncm91bmRJbWFnZVtdXG4gIG9uQmFja2dyb3VuZEltYWdlQWRkPzogKGltYWdlOiBPbWl0PEJhY2tncm91bmRJbWFnZSwgJ2lkJz4pID0+IHZvaWRcbiAgb25CYWNrZ3JvdW5kSW1hZ2VVcGRhdGU/OiAoaW1hZ2VJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEJhY2tncm91bmRJbWFnZT4pID0+IHZvaWRcbiAgb25CYWNrZ3JvdW5kSW1hZ2VEZWxldGU/OiAoaW1hZ2VJZDogc3RyaW5nKSA9PiB2b2lkXG4gIG9uQ2FudmFzUmVhZHk/OiAoY2FudmFzRWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHZvaWRcbn1cblxuaW50ZXJmYWNlIENhbnZhc1N0YXRlIHtcbiAgc2NhbGU6IG51bWJlclxuICB4OiBudW1iZXJcbiAgeTogbnVtYmVyXG59XG5cbmNvbnN0IENhbnZhc0VkaXRvcjogUmVhY3QuRkM8Q2FudmFzRWRpdG9yUHJvcHM+ID0gKHtcbiAgd2lkdGggPSAxMjAwLFxuICBoZWlnaHQgPSA4MDAsXG4gIGNsYXNzTmFtZSA9ICcnLFxuICBvbkVxdWlwbWVudEFkZCxcbiAgcGxhY2VkRXF1aXBtZW50ID0gW10sXG4gIGVxdWlwbWVudERlZmluaXRpb25zLFxuICBvbkVxdWlwbWVudFNlbGVjdCxcbiAgb25FcXVpcG1lbnRNb3ZlLFxuICBvbkVxdWlwbWVudFJvdGF0ZSxcbiAgb25FcXVpcG1lbnREZWxldGUsXG4gIHNlbGVjdGVkRXF1aXBtZW50SWQsXG4gIGJhY2tncm91bmRJbWFnZXMgPSBbXSxcbiAgb25CYWNrZ3JvdW5kSW1hZ2VBZGQsXG4gIG9uQmFja2dyb3VuZEltYWdlVXBkYXRlLFxuICBvbkJhY2tncm91bmRJbWFnZURlbGV0ZSxcbiAgb25DYW52YXNSZWFkeVxufSkgPT4ge1xuICBjb25zdCBzdGFnZVJlZiA9IHVzZVJlZjxLb252YS5TdGFnZT4obnVsbClcbiAgY29uc3QgW2lzQ2xpZW50LCBzZXRJc0NsaWVudF0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgXG4gIC8vIENhbnZhcyBjb25maWd1cmF0aW9uIGZvciAxLDAwMCwwMDAgc3EgZnQgKDEwMDBmdCB4IDEwMDBmdClcbiAgY29uc3QgQ0FOVkFTX0FSRUFfU1FfRlQgPSAxMDAwMDAwXG4gIGNvbnN0IENBTlZBU19TSURFX0ZUID0gTWF0aC5zcXJ0KENBTlZBU19BUkVBX1NRX0ZUKSAvLyAxMDAwIGZlZXRcbiAgY29uc3QgUElYRUxTX1BFUl9GT09UID0gMTAgLy8gT3B0aW1pemVkIGZvciBwZXJmb3JtYW5jZSB3aXRoIHVsdHJhLWxhcmdlIGFyZWFzXG4gIGNvbnN0IENBTlZBU19TSVpFX1BJWEVMUyA9IENBTlZBU19TSURFX0ZUICogUElYRUxTX1BFUl9GT09UIC8vIDEwMDAwIHBpeGVsc1xuICBcbiAgY29uc3QgW2NhbnZhc1N0YXRlLCBzZXRDYW52YXNTdGF0ZV0gPSB1c2VTdGF0ZTxDYW52YXNTdGF0ZT4oe1xuICAgIHNjYWxlOiAwLjIsIC8vIFN0YXJ0IHpvb21lZCBvdXQgdG8gc2VlIG1vcmUgb2YgdGhlIGxhcmdlIGFyZWFcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfSlcbiAgY29uc3QgW3N0YWdlU2l6ZSwgc2V0U3RhZ2VTaXplXSA9IHVzZVN0YXRlKHsgd2lkdGgsIGhlaWdodCB9KVxuICBjb25zdCBbZ3JpZFZpc2libGUsIHNldEdyaWRWaXNpYmxlXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtiYWNrZ3JvdW5kTWFuYWdlck9wZW4sIHNldEJhY2tncm91bmRNYW5hZ2VyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3NlbGVjdGVkQmFja2dyb3VuZEltYWdlSWQsIHNldFNlbGVjdGVkQmFja2dyb3VuZEltYWdlSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3NjYWxlQmFyVmlzaWJsZSwgc2V0U2NhbGVCYXJWaXNpYmxlXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFttZWFzdXJlbWVudFRvb2xBY3RpdmUsIHNldE1lYXN1cmVtZW50VG9vbEFjdGl2ZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW21lYXN1cmVtZW50cywgc2V0TWVhc3VyZW1lbnRzXSA9IHVzZVN0YXRlPE1lYXN1cmVtZW50W10+KFtdKVxuICBjb25zdCBbYWN0aXZlTWVhc3VyZW1lbnRUb29sLCBzZXRBY3RpdmVNZWFzdXJlbWVudFRvb2xdID0gdXNlU3RhdGU8J2FyZWEnIHwgJ3BlcmltZXRlcicgfCAnZGlzdGFuY2UnIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3NpbXBsZU1lYXN1cmVtZW50cywgc2V0U2ltcGxlTWVhc3VyZW1lbnRzXSA9IHVzZVN0YXRlPFNpbXBsZU1lYXN1cmVtZW50W10+KFtdKVxuICBjb25zdCBbc2hvd0Rpc3RhbmNlSW5wdXQsIHNldFNob3dEaXN0YW5jZUlucHV0XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZGlzdGFuY2VJbnB1dERhdGEsIHNldERpc3RhbmNlSW5wdXREYXRhXSA9IHVzZVN0YXRlPHtcbiAgICBjYWxjdWxhdGVkRGlzdGFuY2U6IG51bWJlcjtcbiAgICBvblN1Ym1pdDogKGFjdHVhbERpc3RhbmNlOiBudW1iZXIpID0+IHZvaWQ7XG4gICAgb25DYW5jZWw6ICgpID0+IHZvaWQ7XG4gIH0gfCBudWxsPihudWxsKVxuICBcbiAgLy8gRW5oYW5jZWQgbWVhc3VyZW1lbnQgd29ya2Zsb3cgc3RhdGVzXG4gIGNvbnN0IFttZWFzdXJlbWVudEVkaXRNb2RlLCBzZXRNZWFzdXJlbWVudEVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbY3VycmVudE1lYXN1cmVtZW50LCBzZXRDdXJyZW50TWVhc3VyZW1lbnRdID0gdXNlU3RhdGU8e1xuICAgIGlkOiBzdHJpbmc7XG4gICAgZmlyc3RQb2ludDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHwgbnVsbDtcbiAgICBzZWNvbmRQb2ludDogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9IHwgbnVsbDtcbiAgICBpc0NvbXBsZXRlOiBib29sZWFuO1xuICAgIHJlYWxXb3JsZERpc3RhbmNlPzogbnVtYmVyO1xuICB9IHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3Nob3dDYWxpYnJhdGVEaWFsb2csIHNldFNob3dDYWxpYnJhdGVEaWFsb2ddID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgLy8gSGFuZGxlIGNhbnZhcyByZWFkeSBjYWxsYmFja1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0NsaWVudCAmJiBvbkNhbnZhc1JlYWR5KSB7XG4gICAgICAvLyBVc2UgYSB0aW1lb3V0IHRvIGVuc3VyZSB0aGUgc3RhZ2UgaXMgZnVsbHkgbW91bnRlZFxuICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoc3RhZ2VSZWYuY3VycmVudCkge1xuICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHN0YWdlUmVmLmN1cnJlbnQuY29udGFpbmVyKClcbiAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FudmFzIHJlYWR5LCBjYWxsaW5nIG9uQ2FudmFzUmVhZHkgd2l0aCBjb250YWluZXI6JywgY29udGFpbmVyKVxuICAgICAgICAgICAgb25DYW52YXNSZWFkeShjb250YWluZXIpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LCAxMDApIC8vIFNtYWxsIGRlbGF5IHRvIGVuc3VyZSBzdGFnZSBpcyBtb3VudGVkXG4gICAgICBcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICB9XG4gIH0sIFtvbkNhbnZhc1JlYWR5LCBpc0NsaWVudF0pXG5cbiAgLy8gSGFuZGxlIHdpbmRvdyByZXNpemUgdG8gbWFrZSBjYW52YXMgcmVzcG9uc2l2ZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgIGlmIChzdGFnZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHN0YWdlUmVmLmN1cnJlbnQuY29udGFpbmVyKClcbiAgICAgICAgY29uc3QgY29udGFpbmVyV2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGhcbiAgICAgICAgY29uc3QgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLm9mZnNldEhlaWdodFxuICAgICAgICBcbiAgICAgICAgc2V0U3RhZ2VTaXplKHtcbiAgICAgICAgICB3aWR0aDogY29udGFpbmVyV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBjb250YWluZXJIZWlnaHRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaGFuZGxlUmVzaXplKVxuICAgIGhhbmRsZVJlc2l6ZSgpIC8vIEluaXRpYWwgY2FsbFxuXG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpXG4gIH0sIFtdKVxuXG4gIC8vIEhhbmRsZSB6b29tIHdpdGggbW91c2Ugd2hlZWxcbiAgY29uc3QgaGFuZGxlV2hlZWwgPSB1c2VDYWxsYmFjaygoZTogS29udmEuS29udmFFdmVudE9iamVjdDxXaGVlbEV2ZW50PikgPT4ge1xuICAgIGUuZXZ0LnByZXZlbnREZWZhdWx0KClcbiAgICBcbiAgICBjb25zdCBzdGFnZSA9IGUudGFyZ2V0LmdldFN0YWdlKClcbiAgICBpZiAoIXN0YWdlKSByZXR1cm5cblxuICAgIGNvbnN0IG9sZFNjYWxlID0gc3RhZ2Uuc2NhbGVYKClcbiAgICBjb25zdCBwb2ludGVyID0gc3RhZ2UuZ2V0UG9pbnRlclBvc2l0aW9uKClcbiAgICBpZiAoIXBvaW50ZXIpIHJldHVyblxuXG4gICAgLy8gWm9vbSBzZW5zaXRpdml0eVxuICAgIGNvbnN0IHNjYWxlQnkgPSAxLjFcbiAgICBjb25zdCBuZXdTY2FsZSA9IGUuZXZ0LmRlbHRhWSA+IDAgPyBvbGRTY2FsZSAvIHNjYWxlQnkgOiBvbGRTY2FsZSAqIHNjYWxlQnlcblxuICAgIC8vIExpbWl0IHpvb20gcmFuZ2UgLSBhbGxvdyB6b29taW5nIG91dCB0byA0JSB0byBtYXRjaCBNYXggT3V0IGJ1dHRvblxuICAgIGNvbnN0IG1pblNjYWxlID0gMC4wNCAvLyA0JSBtaW5pbXVtIHpvb21cbiAgICBjb25zdCBtYXhTY2FsZSA9IDVcbiAgICBjb25zdCBjbGFtcGVkU2NhbGUgPSBNYXRoLm1heChtaW5TY2FsZSwgTWF0aC5taW4obWF4U2NhbGUsIG5ld1NjYWxlKSlcblxuICAgIC8vIENhbGN1bGF0ZSBuZXcgcG9zaXRpb24gdG8gem9vbSB0b3dhcmRzIG1vdXNlIHBvaW50ZXJcbiAgICBjb25zdCBtb3VzZVBvaW50VG8gPSB7XG4gICAgICB4OiAocG9pbnRlci54IC0gc3RhZ2UueCgpKSAvIG9sZFNjYWxlLFxuICAgICAgeTogKHBvaW50ZXIueSAtIHN0YWdlLnkoKSkgLyBvbGRTY2FsZSxcbiAgICB9XG5cbiAgICBjb25zdCBuZXdQb3MgPSB7XG4gICAgICB4OiBwb2ludGVyLnggLSBtb3VzZVBvaW50VG8ueCAqIGNsYW1wZWRTY2FsZSxcbiAgICAgIHk6IHBvaW50ZXIueSAtIG1vdXNlUG9pbnRUby55ICogY2xhbXBlZFNjYWxlLFxuICAgIH1cblxuICAgIHN0YWdlLnNjYWxlKHsgeDogY2xhbXBlZFNjYWxlLCB5OiBjbGFtcGVkU2NhbGUgfSlcbiAgICBzdGFnZS5wb3NpdGlvbihuZXdQb3MpXG4gICAgc3RhZ2UuYmF0Y2hEcmF3KClcblxuICAgIHNldENhbnZhc1N0YXRlKHtcbiAgICAgIHNjYWxlOiBjbGFtcGVkU2NhbGUsXG4gICAgICB4OiBuZXdQb3MueCxcbiAgICAgIHk6IG5ld1Bvcy55XG4gICAgfSlcbiAgfSwgW10pXG5cbiAgLy8gSGFuZGxlIHBhbm5pbmcgd2l0aCBtb3VzZSBkcmFnXG4gIGNvbnN0IGhhbmRsZURyYWdFbmQgPSB1c2VDYWxsYmFjaygoZTogS29udmEuS29udmFFdmVudE9iamVjdDxEcmFnRXZlbnQ+KSA9PiB7XG4gICAgY29uc3Qgc3RhZ2UgPSBlLnRhcmdldCBhcyBLb252YS5TdGFnZVxuICAgIHNldENhbnZhc1N0YXRlKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICB4OiBzdGFnZS54KCksXG4gICAgICB5OiBzdGFnZS55KClcbiAgICB9KSlcbiAgfSwgW10pXG5cbiAgLy8gUmVzZXQgY2FudmFzIHRvIGNlbnRlciBhbmQgZGVmYXVsdCB6b29tIGZvciAyNTBrIHNxIGZ0IGNhbnZhc1xuICBjb25zdCByZXNldENhbnZhcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0U2NhbGUgPSAwLjIgLy8gMjAlIHpvb20gZm9yIGxhcmdlIGNhbnZhcyBvdmVydmlld1xuICAgIGNvbnN0IGNlbnRlclggPSAoc3RhZ2VTaXplLndpZHRoIC8gMikgLSAoQ0FOVkFTX1NJWkVfUElYRUxTIC8gMiAqIGRlZmF1bHRTY2FsZSlcbiAgICBjb25zdCBjZW50ZXJZID0gKHN0YWdlU2l6ZS5oZWlnaHQgLyAyKSAtIChDQU5WQVNfU0laRV9QSVhFTFMgLyAyICogZGVmYXVsdFNjYWxlKVxuICAgIFxuICAgIGlmIChzdGFnZVJlZi5jdXJyZW50KSB7XG4gICAgICBzdGFnZVJlZi5jdXJyZW50LnNjYWxlKHsgeDogZGVmYXVsdFNjYWxlLCB5OiBkZWZhdWx0U2NhbGUgfSlcbiAgICAgIHN0YWdlUmVmLmN1cnJlbnQucG9zaXRpb24oeyB4OiBjZW50ZXJYLCB5OiBjZW50ZXJZIH0pXG4gICAgICBzdGFnZVJlZi5jdXJyZW50LmJhdGNoRHJhdygpXG4gICAgfVxuICAgIFxuICAgIHNldENhbnZhc1N0YXRlKHtcbiAgICAgIHNjYWxlOiBkZWZhdWx0U2NhbGUsXG4gICAgICB4OiBjZW50ZXJYLFxuICAgICAgeTogY2VudGVyWVxuICAgIH0pXG4gIH0sIFtzdGFnZVNpemUsIENBTlZBU19TSVpFX1BJWEVMU10pXG5cbiAgLy8gRml0IGNhbnZhcyB0byBzaG93IGFsbCBlcXVpcG1lbnQgd2l0aCBwcm9wZXIgY2VudGVyaW5nIGFuZCB6b29tXG4gIGNvbnN0IGZpdFRvQ29udGVudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnPT09IEZJVCBUTyBDT05URU5UIENBTExFRCA9PT0nKVxuICAgIGNvbnNvbGUubG9nKCdwbGFjZWRFcXVpcG1lbnQ6JywgcGxhY2VkRXF1aXBtZW50KVxuICAgIFxuICAgIGlmICghcGxhY2VkRXF1aXBtZW50IHx8IHBsYWNlZEVxdWlwbWVudC5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBlcXVpcG1lbnQgdG8gZml0IHRvLCByZXNldHRpbmcgY2FudmFzJylcbiAgICAgIHJlc2V0Q2FudmFzKClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSBib3VuZGluZyBib3ggb2YgYWxsIGVxdWlwbWVudCBpbmNsdWRpbmcgdGhlaXIgY2xlYXJhbmNlIHpvbmVzXG4gICAgbGV0IG1pblggPSBJbmZpbml0eSwgbWF4WCA9IC1JbmZpbml0eVxuICAgIGxldCBtaW5ZID0gSW5maW5pdHksIG1heFkgPSAtSW5maW5pdHlcblxuICAgIHBsYWNlZEVxdWlwbWVudC5mb3JFYWNoKGVxdWlwbWVudCA9PiB7XG4gICAgICBjb25zdCBlcXVpcG1lbnREZWYgPSBlcXVpcG1lbnREZWZpbml0aW9ucz8uZmluZChkZWYgPT4gZGVmLmlkID09PSBlcXVpcG1lbnQuZXF1aXBtZW50SWQpXG4gICAgICBpZiAoIWVxdWlwbWVudERlZikgcmV0dXJuXG5cbiAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBlcXVpcG1lbnQuZGltZW5zaW9uc1xuICAgICAgY29uc3QgaXNDaXJjdWxhciA9IGRpbWVuc2lvbnMuc2hhcGUgPT09ICdjaXJjbGUnXG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBlcXVpcG1lbnQgYm91bmRzIGluY2x1ZGluZyBjbGVhcmFuY2VcbiAgICAgIGNvbnN0IGNsZWFyYW5jZSA9IGVxdWlwbWVudERlZi5yaWRlQ2xlYXJpbmcgfHwgMFxuICAgICAgY29uc3QgY2xlYXJhbmNlUGl4ZWxzID0gY2xlYXJhbmNlICogUElYRUxTX1BFUl9GT09UXG4gICAgICBcbiAgICAgIGxldCBlcXVpcG1lbnRNaW5YLCBlcXVpcG1lbnRNYXhYLCBlcXVpcG1lbnRNaW5ZLCBlcXVpcG1lbnRNYXhZXG4gICAgICBcbiAgICAgIGlmIChpc0NpcmN1bGFyKSB7XG4gICAgICAgIGNvbnN0IHJhZGl1cyA9IChkaW1lbnNpb25zIGFzIGFueSkucmFkaXVzICogUElYRUxTX1BFUl9GT09UXG4gICAgICAgIGVxdWlwbWVudE1pblggPSBlcXVpcG1lbnQueCAtIHJhZGl1cyAtIGNsZWFyYW5jZVBpeGVsc1xuICAgICAgICBlcXVpcG1lbnRNYXhYID0gZXF1aXBtZW50LnggKyByYWRpdXMgKyBjbGVhcmFuY2VQaXhlbHNcbiAgICAgICAgZXF1aXBtZW50TWluWSA9IGVxdWlwbWVudC55IC0gcmFkaXVzIC0gY2xlYXJhbmNlUGl4ZWxzXG4gICAgICAgIGVxdWlwbWVudE1heFkgPSBlcXVpcG1lbnQueSArIHJhZGl1cyArIGNsZWFyYW5jZVBpeGVsc1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSAoZGltZW5zaW9ucyBhcyBhbnkpLndpZHRoICogUElYRUxTX1BFUl9GT09UXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IChkaW1lbnNpb25zIGFzIGFueSkuaGVpZ2h0ICogUElYRUxTX1BFUl9GT09UXG4gICAgICAgIGVxdWlwbWVudE1pblggPSBlcXVpcG1lbnQueCAtIHdpZHRoLzIgLSBjbGVhcmFuY2VQaXhlbHNcbiAgICAgICAgZXF1aXBtZW50TWF4WCA9IGVxdWlwbWVudC54ICsgd2lkdGgvMiArIGNsZWFyYW5jZVBpeGVsc1xuICAgICAgICBlcXVpcG1lbnRNaW5ZID0gZXF1aXBtZW50LnkgLSBoZWlnaHQvMiAtIGNsZWFyYW5jZVBpeGVsc1xuICAgICAgICBlcXVpcG1lbnRNYXhZID0gZXF1aXBtZW50LnkgKyBoZWlnaHQvMiArIGNsZWFyYW5jZVBpeGVsc1xuICAgICAgfVxuICAgICAgXG4gICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZXF1aXBtZW50TWluWClcbiAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBlcXVpcG1lbnRNYXhYKVxuICAgICAgbWluWSA9IE1hdGgubWluKG1pblksIGVxdWlwbWVudE1pblkpXG4gICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgZXF1aXBtZW50TWF4WSlcbiAgICB9KVxuXG4gICAgLy8gQWRkIHBhZGRpbmcgYXJvdW5kIHRoZSBib3VuZGluZyBib3hcbiAgICBjb25zdCBwYWRkaW5nID0gMTAwIC8vIDEwMCBwaXhlbHMgcGFkZGluZ1xuICAgIG1pblggLT0gcGFkZGluZ1xuICAgIG1heFggKz0gcGFkZGluZ1xuICAgIG1pblkgLT0gcGFkZGluZ1xuICAgIG1heFkgKz0gcGFkZGluZ1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBjZW50ZXIgb2YgYWxsIGVxdWlwbWVudFxuICAgIGNvbnN0IGNlbnRlclggPSAobWluWCArIG1heFgpIC8gMlxuICAgIGNvbnN0IGNlbnRlclkgPSAobWluWSArIG1heFkpIC8gMlxuXG4gICAgLy8gQ2FsY3VsYXRlIHJlcXVpcmVkIHNjYWxlIHRvIGZpdCBhbGwgZXF1aXBtZW50IGluIHZpZXdwb3J0XG4gICAgY29uc3QgY29udGVudFdpZHRoID0gbWF4WCAtIG1pblhcbiAgICBjb25zdCBjb250ZW50SGVpZ2h0ID0gbWF4WSAtIG1pbllcbiAgICBjb25zdCBzY2FsZVggPSBzdGFnZVNpemUud2lkdGggLyBjb250ZW50V2lkdGhcbiAgICBjb25zdCBzY2FsZVkgPSBzdGFnZVNpemUuaGVpZ2h0IC8gY29udGVudEhlaWdodFxuICAgIGNvbnN0IG9wdGltYWxTY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZLCAyKSAvLyBDYXAgYXQgMnggem9vbVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbiB0byBjZW50ZXIgdGhlIGNvbnRlbnRcbiAgICBjb25zdCBuZXdYID0gKHN0YWdlU2l6ZS53aWR0aCAvIDIpIC0gKGNlbnRlclggKiBvcHRpbWFsU2NhbGUpXG4gICAgY29uc3QgbmV3WSA9IChzdGFnZVNpemUuaGVpZ2h0IC8gMikgLSAoY2VudGVyWSAqIG9wdGltYWxTY2FsZSlcblxuICAgIC8vIEFwcGx5IHRoZSBuZXcgdmlldyBzZXR0aW5ncyB0byBib3RoIHN0YWdlIGFuZCBzdGF0ZVxuICAgIGNvbnNvbGUubG9nKCdBcHBseWluZyBuZXcgY2FudmFzIHN0YXRlOicsIHtcbiAgICAgIHNjYWxlOiBvcHRpbWFsU2NhbGUsXG4gICAgICB4OiBuZXdYLFxuICAgICAgeTogbmV3WSxcbiAgICAgIGNvbnRlbnRCb3VuZHM6IHsgbWluWCwgbWF4WCwgbWluWSwgbWF4WSB9LFxuICAgICAgY2VudGVyOiB7IGNlbnRlclgsIGNlbnRlclkgfVxuICAgIH0pXG4gICAgXG4gICAgaWYgKHN0YWdlUmVmLmN1cnJlbnQpIHtcbiAgICAgIHN0YWdlUmVmLmN1cnJlbnQuc2NhbGUoeyB4OiBvcHRpbWFsU2NhbGUsIHk6IG9wdGltYWxTY2FsZSB9KVxuICAgICAgc3RhZ2VSZWYuY3VycmVudC5wb3NpdGlvbih7IHg6IG5ld1gsIHk6IG5ld1kgfSlcbiAgICAgIHN0YWdlUmVmLmN1cnJlbnQuYmF0Y2hEcmF3KClcbiAgICB9XG4gICAgXG4gICAgc2V0Q2FudmFzU3RhdGUoe1xuICAgICAgc2NhbGU6IG9wdGltYWxTY2FsZSxcbiAgICAgIHg6IG5ld1gsXG4gICAgICB5OiBuZXdZXG4gICAgfSlcbiAgfSwgW3BsYWNlZEVxdWlwbWVudCwgZXF1aXBtZW50RGVmaW5pdGlvbnMsIHN0YWdlU2l6ZSwgcmVzZXRDYW52YXNdKVxuXG4gIC8vIFpvb20gaW4gZnVuY3Rpb25cbiAgY29uc3Qgem9vbUluID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghc3RhZ2VSZWYuY3VycmVudCkgcmV0dXJuXG4gICAgXG4gICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50XG4gICAgY29uc3Qgb2xkU2NhbGUgPSBzdGFnZS5zY2FsZVgoKVxuICAgIGNvbnN0IHNjYWxlQnkgPSAxLjFcbiAgICBjb25zdCBuZXdTY2FsZSA9IE1hdGgubWluKDUsIG9sZFNjYWxlICogc2NhbGVCeSkgLy8gTWF4IHpvb20gNXhcbiAgICBcbiAgICAvLyBab29tIHRvd2FyZHMgY2VudGVyIG9mIHZpc2libGUgYXJlYVxuICAgIGNvbnN0IGNlbnRlciA9IHtcbiAgICAgIHg6IHN0YWdlU2l6ZS53aWR0aCAvIDIsXG4gICAgICB5OiBzdGFnZVNpemUuaGVpZ2h0IC8gMlxuICAgIH1cbiAgICBcbiAgICBjb25zdCBtb3VzZVBvaW50VG8gPSB7XG4gICAgICB4OiAoY2VudGVyLnggLSBzdGFnZS54KCkpIC8gb2xkU2NhbGUsXG4gICAgICB5OiAoY2VudGVyLnkgLSBzdGFnZS55KCkpIC8gb2xkU2NhbGUsXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5ld1BvcyA9IHtcbiAgICAgIHg6IGNlbnRlci54IC0gbW91c2VQb2ludFRvLnggKiBuZXdTY2FsZSxcbiAgICAgIHk6IGNlbnRlci55IC0gbW91c2VQb2ludFRvLnkgKiBuZXdTY2FsZSxcbiAgICB9XG4gICAgXG4gICAgc3RhZ2Uuc2NhbGUoeyB4OiBuZXdTY2FsZSwgeTogbmV3U2NhbGUgfSlcbiAgICBzdGFnZS5wb3NpdGlvbihuZXdQb3MpXG4gICAgc3RhZ2UuYmF0Y2hEcmF3KClcbiAgICBcbiAgICBzZXRDYW52YXNTdGF0ZSh7XG4gICAgICBzY2FsZTogbmV3U2NhbGUsXG4gICAgICB4OiBuZXdQb3MueCxcbiAgICAgIHk6IG5ld1Bvcy55XG4gICAgfSlcbiAgfSwgW3N0YWdlU2l6ZV0pXG5cbiAgLy8gWm9vbSBvdXQgZnVuY3Rpb25cbiAgY29uc3Qgem9vbU91dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIXN0YWdlUmVmLmN1cnJlbnQpIHJldHVyblxuICAgIFxuICAgIGNvbnN0IHN0YWdlID0gc3RhZ2VSZWYuY3VycmVudFxuICAgIGNvbnN0IG9sZFNjYWxlID0gc3RhZ2Uuc2NhbGVYKClcbiAgICBjb25zdCBzY2FsZUJ5ID0gMS4xXG4gICAgY29uc3QgbmV3U2NhbGUgPSBNYXRoLm1heCgwLjA0LCBvbGRTY2FsZSAvIHNjYWxlQnkpIC8vIE1pbiB6b29tIDAuMDR4ICg0JSlcbiAgICBcbiAgICAvLyBab29tIHRvd2FyZHMgY2VudGVyIG9mIHZpc2libGUgYXJlYVxuICAgIGNvbnN0IGNlbnRlciA9IHtcbiAgICAgIHg6IHN0YWdlU2l6ZS53aWR0aCAvIDIsXG4gICAgICB5OiBzdGFnZVNpemUuaGVpZ2h0IC8gMlxuICAgIH1cbiAgICBcbiAgICBjb25zdCBtb3VzZVBvaW50VG8gPSB7XG4gICAgICB4OiAoY2VudGVyLnggLSBzdGFnZS54KCkpIC8gb2xkU2NhbGUsXG4gICAgICB5OiAoY2VudGVyLnkgLSBzdGFnZS55KCkpIC8gb2xkU2NhbGUsXG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5ld1BvcyA9IHtcbiAgICAgIHg6IGNlbnRlci54IC0gbW91c2VQb2ludFRvLnggKiBuZXdTY2FsZSxcbiAgICAgIHk6IGNlbnRlci55IC0gbW91c2VQb2ludFRvLnkgKiBuZXdTY2FsZSxcbiAgICB9XG4gICAgXG4gICAgc3RhZ2Uuc2NhbGUoeyB4OiBuZXdTY2FsZSwgeTogbmV3U2NhbGUgfSlcbiAgICBzdGFnZS5wb3NpdGlvbihuZXdQb3MpXG4gICAgc3RhZ2UuYmF0Y2hEcmF3KClcbiAgICBcbiAgICBzZXRDYW52YXNTdGF0ZSh7XG4gICAgICBzY2FsZTogbmV3U2NhbGUsXG4gICAgICB4OiBuZXdQb3MueCxcbiAgICAgIHk6IG5ld1Bvcy55XG4gICAgfSlcbiAgfSwgW3N0YWdlU2l6ZV0pXG5cbiAgLy8gQ2FsY3VsYXRlIHZpc2libGUgYm91bmRzIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25cbiAgY29uc3QgZ2V0VmlzaWJsZUJvdW5kcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBidWZmZXIgPSAxMDAwIC8vIHBpeGVscyBidWZmZXIgZm9yIHNtb290aCBzY3JvbGxpbmdcbiAgICByZXR1cm4ge1xuICAgICAgbWluWDogKC1jYW52YXNTdGF0ZS54IC8gY2FudmFzU3RhdGUuc2NhbGUpIC0gYnVmZmVyLFxuICAgICAgbWF4WDogKCgtY2FudmFzU3RhdGUueCArIHN0YWdlU2l6ZS53aWR0aCkgLyBjYW52YXNTdGF0ZS5zY2FsZSkgKyBidWZmZXIsXG4gICAgICBtaW5ZOiAoLWNhbnZhc1N0YXRlLnkgLyBjYW52YXNTdGF0ZS5zY2FsZSkgLSBidWZmZXIsXG4gICAgICBtYXhZOiAoKC1jYW52YXNTdGF0ZS55ICsgc3RhZ2VTaXplLmhlaWdodCkgLyBjYW52YXNTdGF0ZS5zY2FsZSkgKyBidWZmZXJcbiAgICB9XG4gIH0sIFtjYW52YXNTdGF0ZS54LCBjYW52YXNTdGF0ZS55LCBjYW52YXNTdGF0ZS5zY2FsZSwgc3RhZ2VTaXplXSlcblxuICAvLyBIYW5kbGUgbWVhc3VyZW1lbnQgdG9vbCBjbGlja3NcbiAgY29uc3QgaGFuZGxlTWVhc3VyZW1lbnRUb29sQ2xpY2sgPSB1c2VDYWxsYmFjaygoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlTWVhc3VyZW1lbnRUb29sQ2xpY2sgY2FsbGVkOicsIHsgeCwgeSwgYWN0aXZlTWVhc3VyZW1lbnRUb29sIH0pXG4gICAgaWYgKCFhY3RpdmVNZWFzdXJlbWVudFRvb2wpIHJldHVyblxuICAgIFxuICAgIC8vIEZvcndhcmQgY2xpY2sgdG8gU2ltcGxlTWVhc3VyZW1lbnRUb29sIHZpYSBnbG9iYWwgaGFuZGxlcnNcbiAgICBjb25zdCBoYW5kbGVycyA9ICh3aW5kb3cgYXMgYW55KS5tZWFzdXJlbWVudFRvb2xIYW5kbGVyc1xuICAgIGNvbnNvbGUubG9nKCdHbG9iYWwgaGFuZGxlcnM6JywgaGFuZGxlcnMpXG4gICAgaWYgKGhhbmRsZXJzICYmIGhhbmRsZXJzLmhhbmRsZUNsaWNrKSB7XG4gICAgICBjb25zb2xlLmxvZygnQ2FsbGluZyBoYW5kbGVycy5oYW5kbGVDbGljaycpXG4gICAgICBoYW5kbGVycy5oYW5kbGVDbGljayh4LCB5KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gZ2xvYmFsIGhhbmRsZXJzIGZvdW5kJylcbiAgICB9XG4gIH0sIFthY3RpdmVNZWFzdXJlbWVudFRvb2xdKVxuXG4gIC8vIEhhbmRsZSBkb3VibGUtY2xpY2sgdG8gY29tcGxldGUgYXJlYS9wZXJpbWV0ZXIgbWVhc3VyZW1lbnRzXG4gIGNvbnN0IGhhbmRsZU1lYXN1cmVtZW50VG9vbERvdWJsZUNsaWNrID0gdXNlQ2FsbGJhY2soKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKCFhY3RpdmVNZWFzdXJlbWVudFRvb2wpIHJldHVyblxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdEb3VibGUtY2xpY2sgZm9yIG1lYXN1cmVtZW50IHRvb2w6JywgeyB4LCB5LCBhY3RpdmVNZWFzdXJlbWVudFRvb2wgfSlcbiAgICBcbiAgICAvLyBGaW5kIGluY29tcGxldGUgbWVhc3VyZW1lbnRcbiAgICBjb25zdCBjdXJyZW50TWVhc3VyZW1lbnQgPSBzaW1wbGVNZWFzdXJlbWVudHMuZmluZChtID0+ICFtLmNvbXBsZXRlZClcbiAgICBpZiAoIWN1cnJlbnRNZWFzdXJlbWVudCB8fCBjdXJyZW50TWVhc3VyZW1lbnQucG9pbnRzLmxlbmd0aCA8IDIpIHJldHVyblxuICAgIFxuICAgIGxldCB2YWx1ZSA9IDBcbiAgICBsZXQgbGFiZWwgPSAnJ1xuICAgIFxuICAgIGlmIChhY3RpdmVNZWFzdXJlbWVudFRvb2wgPT09ICdhcmVhJykge1xuICAgICAgLy8gQ2FsY3VsYXRlIGFyZWEgdXNpbmcgc2hvZWxhY2UgZm9ybXVsYVxuICAgICAgaWYgKGN1cnJlbnRNZWFzdXJlbWVudC5wb2ludHMubGVuZ3RoIDwgMykgcmV0dXJuXG4gICAgICBcbiAgICAgIGxldCBhcmVhID0gMFxuICAgICAgY29uc3QgcG9pbnRzID0gY3VycmVudE1lYXN1cmVtZW50LnBvaW50c1xuICAgICAgY29uc3QgbiA9IHBvaW50cy5sZW5ndGhcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgY29uc3QgaiA9IChpICsgMSkgJSBuXG4gICAgICAgIGFyZWEgKz0gcG9pbnRzW2ldLnggKiBwb2ludHNbal0ueVxuICAgICAgICBhcmVhIC09IHBvaW50c1tqXS54ICogcG9pbnRzW2ldLnlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYXJlYSA9IE1hdGguYWJzKGFyZWEpIC8gMlxuICAgICAgdmFsdWUgPSBhcmVhIC8gKFBJWEVMU19QRVJfRk9PVCAqIFBJWEVMU19QRVJfRk9PVCkgLy8gQ29udmVydCB0byBzcXVhcmUgZmVldFxuICAgICAgbGFiZWwgPSBgQXJlYTogJHt2YWx1ZS50b0ZpeGVkKDApfSBzcSBmdGBcbiAgICAgIFxuICAgIH0gZWxzZSBpZiAoYWN0aXZlTWVhc3VyZW1lbnRUb29sID09PSAncGVyaW1ldGVyJykge1xuICAgICAgLy8gQ2FsY3VsYXRlIHBlcmltZXRlclxuICAgICAgbGV0IHBlcmltZXRlciA9IDBcbiAgICAgIGNvbnN0IHBvaW50cyA9IGN1cnJlbnRNZWFzdXJlbWVudC5wb2ludHNcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGR4ID0gcG9pbnRzW2kgKyAxXS54IC0gcG9pbnRzW2ldLnhcbiAgICAgICAgY29uc3QgZHkgPSBwb2ludHNbaSArIDFdLnkgLSBwb2ludHNbaV0ueVxuICAgICAgICBwZXJpbWV0ZXIgKz0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbG9zZSB0aGUgcGVyaW1ldGVyIChjb25uZWN0IGxhc3QgcG9pbnQgdG8gZmlyc3QpXG4gICAgICBpZiAocG9pbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgY29uc3QgZHggPSBwb2ludHNbMF0ueCAtIHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0ueFxuICAgICAgICBjb25zdCBkeSA9IHBvaW50c1swXS55IC0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXS55XG4gICAgICAgIHBlcmltZXRlciArPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpXG4gICAgICB9XG4gICAgICBcbiAgICAgIHZhbHVlID0gcGVyaW1ldGVyIC8gUElYRUxTX1BFUl9GT09UIC8vIENvbnZlcnQgdG8gZmVldFxuICAgICAgbGFiZWwgPSBgUGVyaW1ldGVyOiAke3ZhbHVlLnRvRml4ZWQoMCl9IGZ0YFxuICAgIH1cbiAgICBcbiAgICAvLyBDb21wbGV0ZSB0aGUgbWVhc3VyZW1lbnRcbiAgICBjb25zdCBjb21wbGV0ZWRNZWFzdXJlbWVudDogU2ltcGxlTWVhc3VyZW1lbnQgPSB7XG4gICAgICAuLi5jdXJyZW50TWVhc3VyZW1lbnQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGxhYmVsLFxuICAgICAgY29tcGxldGVkOiB0cnVlXG4gICAgfVxuICAgIFxuICAgIHNldFNpbXBsZU1lYXN1cmVtZW50cyhwcmV2ID0+IFxuICAgICAgcHJldi5tYXAobSA9PiBtLmlkID09PSBjdXJyZW50TWVhc3VyZW1lbnQuaWQgPyBjb21wbGV0ZWRNZWFzdXJlbWVudCA6IG0pXG4gICAgKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCdNZWFzdXJlbWVudCBjb21wbGV0ZWQ6JywgY29tcGxldGVkTWVhc3VyZW1lbnQpXG4gIH0sIFthY3RpdmVNZWFzdXJlbWVudFRvb2wsIHNpbXBsZU1lYXN1cmVtZW50cywgUElYRUxTX1BFUl9GT09UXSlcblxuICAvLyBFbmhhbmNlZCBtZWFzdXJlbWVudCBoYW5kbGVyc1xuICBjb25zdCBoYW5kbGVFbmhhbmNlZE1lYXN1cmVtZW50UG9pbnRTZXQgPSB1c2VDYWxsYmFjaygocG9pbnQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xuICAgIGlmICghY3VycmVudE1lYXN1cmVtZW50KSByZXR1cm5cblxuICAgIGlmICghY3VycmVudE1lYXN1cmVtZW50LmZpcnN0UG9pbnQpIHtcbiAgICAgIC8vIFNldCBmaXJzdCBwb2ludFxuICAgICAgc2V0Q3VycmVudE1lYXN1cmVtZW50KHByZXYgPT4gcHJldiA/IHtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAgZmlyc3RQb2ludDogcG9pbnRcbiAgICAgIH0gOiBudWxsKVxuICAgIH0gZWxzZSBpZiAoIWN1cnJlbnRNZWFzdXJlbWVudC5zZWNvbmRQb2ludCkge1xuICAgICAgLy8gU2V0IHNlY29uZCBwb2ludCBhbmQgY29tcGxldGUgbWVhc3VyZW1lbnRcbiAgICAgIGNvbnN0IHVwZGF0ZWRNZWFzdXJlbWVudCA9IHtcbiAgICAgICAgLi4uY3VycmVudE1lYXN1cmVtZW50LFxuICAgICAgICBzZWNvbmRQb2ludDogcG9pbnQsXG4gICAgICAgIGlzQ29tcGxldGU6IHRydWVcbiAgICAgIH1cbiAgICAgIHNldEN1cnJlbnRNZWFzdXJlbWVudCh1cGRhdGVkTWVhc3VyZW1lbnQpXG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBkaXN0YW5jZSBhbmQgc2hvdyBjYWxpYnJhdGlvbiBkaWFsb2dcbiAgICAgIGNvbnN0IGR4ID0gcG9pbnQueCAtIGN1cnJlbnRNZWFzdXJlbWVudC5maXJzdFBvaW50LnhcbiAgICAgIGNvbnN0IGR5ID0gcG9pbnQueSAtIGN1cnJlbnRNZWFzdXJlbWVudC5maXJzdFBvaW50LnlcbiAgICAgIGNvbnN0IHBpeGVsRGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpXG4gICAgICBjb25zdCBjYWxjdWxhdGVkRGlzdGFuY2UgPSBwaXhlbERpc3RhbmNlIC8gUElYRUxTX1BFUl9GT09UXG4gICAgICBcbiAgICAgIC8vIFNob3cgY2FsaWJyYXRpb24gZGlhbG9nIGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRTaG93Q2FsaWJyYXRlRGlhbG9nKHRydWUpXG4gICAgICB9LCA1MDApXG4gICAgfVxuICB9LCBbY3VycmVudE1lYXN1cmVtZW50LCBQSVhFTFNfUEVSX0ZPT1RdKVxuXG4gIGNvbnN0IGhhbmRsZUVuaGFuY2VkTWVhc3VyZW1lbnRFZGl0ID0gdXNlQ2FsbGJhY2soKGZpcnN0UG9pbnQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSwgc2Vjb25kUG9pbnQ6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfSkgPT4ge1xuICAgIGlmICghY3VycmVudE1lYXN1cmVtZW50KSByZXR1cm5cblxuICAgIHNldEN1cnJlbnRNZWFzdXJlbWVudChwcmV2ID0+IHByZXYgPyB7XG4gICAgICAuLi5wcmV2LFxuICAgICAgZmlyc3RQb2ludCxcbiAgICAgIHNlY29uZFBvaW50XG4gICAgfSA6IG51bGwpXG4gIH0sIFtjdXJyZW50TWVhc3VyZW1lbnRdKVxuXG4gIGNvbnN0IGhhbmRsZUNhbGlicmF0ZVN1Ym1pdCA9IHVzZUNhbGxiYWNrKChhY3R1YWxEaXN0YW5jZTogbnVtYmVyKSA9PiB7XG4gICAgaWYgKCFjdXJyZW50TWVhc3VyZW1lbnQgfHwgIWN1cnJlbnRNZWFzdXJlbWVudC5maXJzdFBvaW50IHx8ICFjdXJyZW50TWVhc3VyZW1lbnQuc2Vjb25kUG9pbnQpIHJldHVyblxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBzY2FsZSBmYWN0b3JcbiAgICBjb25zdCBkeCA9IGN1cnJlbnRNZWFzdXJlbWVudC5zZWNvbmRQb2ludC54IC0gY3VycmVudE1lYXN1cmVtZW50LmZpcnN0UG9pbnQueFxuICAgIGNvbnN0IGR5ID0gY3VycmVudE1lYXN1cmVtZW50LnNlY29uZFBvaW50LnkgLSBjdXJyZW50TWVhc3VyZW1lbnQuZmlyc3RQb2ludC55XG4gICAgY29uc3QgcGl4ZWxEaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSlcbiAgICBjb25zdCBzY2FsZUZhY3RvciA9IGFjdHVhbERpc3RhbmNlIC8gKHBpeGVsRGlzdGFuY2UgLyBQSVhFTFNfUEVSX0ZPT1QpXG5cbiAgICAvLyBVcGRhdGUgdGhlIG1lYXN1cmVtZW50IHdpdGggcmVhbC13b3JsZCBkaXN0YW5jZVxuICAgIHNldEN1cnJlbnRNZWFzdXJlbWVudChwcmV2ID0+IHByZXYgPyB7XG4gICAgICAuLi5wcmV2LFxuICAgICAgcmVhbFdvcmxkRGlzdGFuY2U6IGFjdHVhbERpc3RhbmNlXG4gICAgfSA6IG51bGwpXG5cbiAgICAvLyBBcHBseSBzY2FsZSBjYWxpYnJhdGlvbiB0byBiYWNrZ3JvdW5kIGltYWdlcyBpZiBhbnlcbiAgICBpZiAoYmFja2dyb3VuZEltYWdlcyAmJiBiYWNrZ3JvdW5kSW1hZ2VzLmxlbmd0aCA+IDAgJiYgb25CYWNrZ3JvdW5kSW1hZ2VVcGRhdGUpIHtcbiAgICAgIGJhY2tncm91bmRJbWFnZXMuZm9yRWFjaChpbWFnZSA9PiB7XG4gICAgICAgIG9uQmFja2dyb3VuZEltYWdlVXBkYXRlKGltYWdlLmlkLCB7XG4gICAgICAgICAgc2NhbGVYOiAoaW1hZ2Uuc2NhbGVYIHx8IDEpICogc2NhbGVGYWN0b3IsXG4gICAgICAgICAgc2NhbGVZOiAoaW1hZ2Uuc2NhbGVZIHx8IDEpICogc2NhbGVGYWN0b3JcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgc2V0U2hvd0NhbGlicmF0ZURpYWxvZyhmYWxzZSlcbiAgICBjb25zb2xlLmxvZygnU2NhbGUgY2FsaWJyYXRlZCB3aXRoIGZhY3RvcjonLCBzY2FsZUZhY3RvcilcbiAgfSwgW2N1cnJlbnRNZWFzdXJlbWVudCwgUElYRUxTX1BFUl9GT09ULCBiYWNrZ3JvdW5kSW1hZ2VzLCBvbkJhY2tncm91bmRJbWFnZVVwZGF0ZV0pXG5cbiAgY29uc3QgaGFuZGxlQ2FsaWJyYXRlRWRpdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTaG93Q2FsaWJyYXRlRGlhbG9nKGZhbHNlKVxuICAgIHNldE1lYXN1cmVtZW50RWRpdE1vZGUodHJ1ZSlcbiAgfSwgW10pXG5cbiAgY29uc3QgaGFuZGxlQ2FsaWJyYXRlQ2FuY2VsID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dDYWxpYnJhdGVEaWFsb2coZmFsc2UpXG4gICAgLy8gT3B0aW9uYWxseSByZXNldCB0aGUgbWVhc3VyZW1lbnRcbiAgICBzZXRDdXJyZW50TWVhc3VyZW1lbnQobnVsbClcbiAgICBzZXRNZWFzdXJlbWVudFRvb2xBY3RpdmUoZmFsc2UpXG4gIH0sIFtdKVxuXG4gIC8vIEhhbmRsZSBjYW52YXMgY2xpY2tzIGZvciBtZWFzdXJlbWVudCB0b29sc1xuICBjb25zdCBoYW5kbGVDYW52YXNDbGljayA9IHVzZUNhbGxiYWNrKCh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xuICAgIGlmICghYWN0aXZlTWVhc3VyZW1lbnRUb29sKSByZXR1cm5cbiAgICBcbiAgICBjb25zb2xlLmxvZygnQ2FudmFzIGNsaWNrIGZvciBtZWFzdXJlbWVudCB0b29sIChyYXcpOicsIHsgeCwgeSwgYWN0aXZlTWVhc3VyZW1lbnRUb29sIH0pXG4gICAgXG4gICAgLy8gVHJhbnNmb3JtIHNjcmVlbiBjb29yZGluYXRlcyB0byBjYW52YXMgY29vcmRpbmF0ZXNcbiAgICAvLyBBY2NvdW50IGZvciBjYW52YXMgem9vbSBhbmQgcGFuXG4gICAgY29uc3QgY2FudmFzWCA9ICh4IC0gY2FudmFzU3RhdGUueCkgLyBjYW52YXNTdGF0ZS5zY2FsZVxuICAgIGNvbnN0IGNhbnZhc1kgPSAoeSAtIGNhbnZhc1N0YXRlLnkpIC8gY2FudmFzU3RhdGUuc2NhbGVcbiAgICBcbiAgICBjb25zb2xlLmxvZygnQ2FudmFzIGNsaWNrIGZvciBtZWFzdXJlbWVudCB0b29sICh0cmFuc2Zvcm1lZCk6JywgeyBjYW52YXNYLCBjYW52YXNZLCBjYW52YXNTdGF0ZSB9KVxuICAgIFxuICAgIGNvbnN0IG5ld1BvaW50ID0geyB4OiBjYW52YXNYLCB5OiBjYW52YXNZIH1cbiAgICBcbiAgICBpZiAoc2ltcGxlTWVhc3VyZW1lbnRzLnNvbWUobSA9PiAhbS5jb21wbGV0ZWQpKSB7XG4gICAgICAvLyBDb250aW51ZSBleGlzdGluZyBtZWFzdXJlbWVudFxuICAgICAgY29uc3QgY3VycmVudE1lYXN1cmVtZW50ID0gc2ltcGxlTWVhc3VyZW1lbnRzLmZpbmQobSA9PiAhbS5jb21wbGV0ZWQpXG4gICAgICBpZiAoY3VycmVudE1lYXN1cmVtZW50KSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQb2ludHMgPSBbLi4uY3VycmVudE1lYXN1cmVtZW50LnBvaW50cywgbmV3UG9pbnRdXG4gICAgICAgIFxuICAgICAgICAvLyBGb3IgZGlzdGFuY2UgdG9vbCwgY29tcGxldGUgYWZ0ZXIgMiBwb2ludHNcbiAgICAgICAgaWYgKGFjdGl2ZU1lYXN1cmVtZW50VG9vbCA9PT0gJ2Rpc3RhbmNlJyAmJiB1cGRhdGVkUG9pbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgTWF0aC5wb3codXBkYXRlZFBvaW50c1sxXS54IC0gdXBkYXRlZFBvaW50c1swXS54LCAyKSArIFxuICAgICAgICAgICAgTWF0aC5wb3codXBkYXRlZFBvaW50c1sxXS55IC0gdXBkYXRlZFBvaW50c1swXS55LCAyKVxuICAgICAgICAgICkgLyBQSVhFTFNfUEVSX0ZPT1RcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBjb21wbGV0ZWRNZWFzdXJlbWVudDogU2ltcGxlTWVhc3VyZW1lbnQgPSB7XG4gICAgICAgICAgICAuLi5jdXJyZW50TWVhc3VyZW1lbnQsXG4gICAgICAgICAgICBwb2ludHM6IHVwZGF0ZWRQb2ludHMsXG4gICAgICAgICAgICB2YWx1ZTogZGlzdGFuY2UsXG4gICAgICAgICAgICBsYWJlbDogYERpc3RhbmNlOiAke2Rpc3RhbmNlLnRvRml4ZWQoMCl9IGZ0YCxcbiAgICAgICAgICAgIGNvbXBsZXRlZDogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZXRTaW1wbGVNZWFzdXJlbWVudHMocHJldiA9PiBcbiAgICAgICAgICAgIHByZXYubWFwKG0gPT4gbS5pZCA9PT0gY3VycmVudE1lYXN1cmVtZW50LmlkID8gY29tcGxldGVkTWVhc3VyZW1lbnQgOiBtKVxuICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBVcGRhdGUgY3VycmVudCBtZWFzdXJlbWVudCB3aXRoIG5ldyBwb2ludFxuICAgICAgICAgIHNldFNpbXBsZU1lYXN1cmVtZW50cyhwcmV2ID0+IFxuICAgICAgICAgICAgcHJldi5tYXAobSA9PiBtLmlkID09PSBjdXJyZW50TWVhc3VyZW1lbnQuaWQgPyB7IC4uLm0sIHBvaW50czogdXBkYXRlZFBvaW50cyB9IDogbSlcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RhcnQgbmV3IG1lYXN1cmVtZW50XG4gICAgICBjb25zdCBuZXdNZWFzdXJlbWVudDogU2ltcGxlTWVhc3VyZW1lbnQgPSB7XG4gICAgICAgIGlkOiBgJHthY3RpdmVNZWFzdXJlbWVudFRvb2x9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICB0eXBlOiBhY3RpdmVNZWFzdXJlbWVudFRvb2wsXG4gICAgICAgIHBvaW50czogW25ld1BvaW50XSxcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGxhYmVsOiAnJyxcbiAgICAgICAgY29tcGxldGVkOiBmYWxzZVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRTaW1wbGVNZWFzdXJlbWVudHMocHJldiA9PiBbLi4ucHJldiwgbmV3TWVhc3VyZW1lbnRdKVxuICAgIH1cbiAgfSwgW2FjdGl2ZU1lYXN1cmVtZW50VG9vbCwgc2ltcGxlTWVhc3VyZW1lbnRzLCBQSVhFTFNfUEVSX0ZPT1RdKVxuICBcbiAgLy8gSGFuZGxlIHN0YWdlIGNsaWNrIHRvIGRlc2VsZWN0IGVxdWlwbWVudCB3aGVuIGNsaWNraW5nIG9uIGVtcHR5IGNhbnZhc1xuICBjb25zdCBoYW5kbGVTdGFnZUNsaWNrID0gdXNlQ2FsbGJhY2soKGU6IGFueSkgPT4ge1xuICAgIC8vIENoZWNrIGlmIHdlIGNsaWNrZWQgb24gdGhlIHN0YWdlIGl0c2VsZiAobm90IG9uIGFueSBlcXVpcG1lbnQpXG4gICAgY29uc3QgY2xpY2tlZE9uRW1wdHkgPSBlLnRhcmdldCA9PT0gZS50YXJnZXQuZ2V0U3RhZ2UoKVxuICAgIFxuICAgIGlmIChjbGlja2VkT25FbXB0eSkge1xuICAgICAgY29uc3Qgc3RhZ2UgPSBlLnRhcmdldC5nZXRTdGFnZSgpXG4gICAgICBjb25zdCBwb3MgPSBzdGFnZS5nZXRQb2ludGVyUG9zaXRpb24oKVxuICAgICAgXG4gICAgICAvLyBJZiBlbmhhbmNlZCBtZWFzdXJlbWVudCB0b29sIGlzIGFjdGl2ZSwgaGFuZGxlIHRoZSBjbGlja1xuICAgICAgaWYgKG1lYXN1cmVtZW50VG9vbEFjdGl2ZSAmJiAhYWN0aXZlTWVhc3VyZW1lbnRUb29sICYmIHBvcykge1xuICAgICAgICBjb25zdCBjYW52YXNYID0gKHBvcy54IC0gY2FudmFzU3RhdGUueCkgLyBjYW52YXNTdGF0ZS5zY2FsZVxuICAgICAgICBjb25zdCBjYW52YXNZID0gKHBvcy55IC0gY2FudmFzU3RhdGUueSkgLyBjYW52YXNTdGF0ZS5zY2FsZVxuICAgICAgICBcbiAgICAgICAgLy8gRm9yd2FyZCB0byBlbmhhbmNlZCBtZWFzdXJlbWVudCBoYW5kbGVyc1xuICAgICAgICBjb25zdCBoYW5kbGVycyA9ICh3aW5kb3cgYXMgYW55KS5lbmhhbmNlZE1lYXN1cmVtZW50SGFuZGxlcnNcbiAgICAgICAgaWYgKGhhbmRsZXJzICYmIGhhbmRsZXJzLmhhbmRsZUNsaWNrKSB7XG4gICAgICAgICAgaGFuZGxlcnMuaGFuZGxlQ2xpY2soeyB0YXJnZXQ6IHsgZ2V0U3RhZ2U6ICgpID0+IHN0YWdlIH0gfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSWYgYSBzaW1wbGUgbWVhc3VyZW1lbnQgdG9vbCBpcyBhY3RpdmUsIGhhbmRsZSB0aGUgY2xpY2sgZm9yIG1lYXN1cmVtZW50XG4gICAgICBpZiAoYWN0aXZlTWVhc3VyZW1lbnRUb29sICYmIHBvcykge1xuICAgICAgICBoYW5kbGVDYW52YXNDbGljayhwb3MueCwgcG9zLnkpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBPdGhlcndpc2UsIGRlc2VsZWN0IGVxdWlwbWVudFxuICAgICAgb25FcXVpcG1lbnRTZWxlY3Q/LihudWxsKVxuICAgICAgc2V0U2VsZWN0ZWRCYWNrZ3JvdW5kSW1hZ2VJZChudWxsKVxuICAgIH1cbiAgfSwgW29uRXF1aXBtZW50U2VsZWN0LCBhY3RpdmVNZWFzdXJlbWVudFRvb2wsIG1lYXN1cmVtZW50VG9vbEFjdGl2ZSwgaGFuZGxlQ2FudmFzQ2xpY2ssIGNhbnZhc1N0YXRlXSlcbiAgXG4gIC8vIEhhbmRsZSBzdGFnZSBkb3VibGUgY2xpY2sgZm9yIG1lYXN1cmVtZW50IHRvb2xzXG4gIGNvbnN0IGhhbmRsZVN0YWdlRG91YmxlQ2xpY2sgPSB1c2VDYWxsYmFjaygoZTogYW55KSA9PiB7XG4gICAgaWYgKCFhY3RpdmVNZWFzdXJlbWVudFRvb2wpIHJldHVyblxuICAgIFxuICAgIGNvbnN0IHN0YWdlID0gZS50YXJnZXQuZ2V0U3RhZ2UoKVxuICAgIGNvbnN0IHBvcyA9IHN0YWdlLmdldFBvaW50ZXJQb3NpdGlvbigpXG4gICAgXG4gICAgaWYgKHBvcykge1xuICAgICAgLy8gVHJhbnNmb3JtIHNjcmVlbiBjb29yZGluYXRlcyB0byBjYW52YXMgY29vcmRpbmF0ZXNcbiAgICAgIGNvbnN0IGNhbnZhc1ggPSAocG9zLnggLSBjYW52YXNTdGF0ZS54KSAvIGNhbnZhc1N0YXRlLnNjYWxlXG4gICAgICBjb25zdCBjYW52YXNZID0gKHBvcy55IC0gY2FudmFzU3RhdGUueSkgLyBjYW52YXNTdGF0ZS5zY2FsZVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnRG91YmxlLWNsaWNrIGZvciBtZWFzdXJlbWVudCB0b29sOicsIHsgeDogY2FudmFzWCwgeTogY2FudmFzWSwgYWN0aXZlTWVhc3VyZW1lbnRUb29sIH0pXG4gICAgICBcbiAgICAgIC8vIENvbXBsZXRlIHRoZSBjdXJyZW50IG1lYXN1cmVtZW50XG4gICAgICBzZXRTaW1wbGVNZWFzdXJlbWVudHMocHJldiA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRNZWFzdXJlbWVudCA9IHByZXYuZmluZChtID0+ICFtLmNvbXBsZXRlZClcbiAgICAgICAgaWYgKCFjdXJyZW50TWVhc3VyZW1lbnQpIHJldHVybiBwcmV2XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgdGhlIGZpbmFsIHBvaW50IGZvciBhcmVhIGFuZCBwZXJpbWV0ZXIgbWVhc3VyZW1lbnRzXG4gICAgICAgIGlmIChhY3RpdmVNZWFzdXJlbWVudFRvb2wgPT09ICdhcmVhJyB8fCBhY3RpdmVNZWFzdXJlbWVudFRvb2wgPT09ICdwZXJpbWV0ZXInKSB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZFBvaW50cyA9IFsuLi5jdXJyZW50TWVhc3VyZW1lbnQucG9pbnRzLCB7IHg6IGNhbnZhc1gsIHk6IGNhbnZhc1kgfV1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIG1lYXN1cmVtZW50IHZhbHVlXG4gICAgICAgICAgbGV0IHZhbHVlID0gMFxuICAgICAgICAgIGxldCBsYWJlbCA9ICcnXG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGFjdGl2ZU1lYXN1cmVtZW50VG9vbCA9PT0gJ2FyZWEnICYmIHVwZGF0ZWRQb2ludHMubGVuZ3RoID49IDMpIHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBhcmVhIHVzaW5nIHNob2VsYWNlIGZvcm11bGFcbiAgICAgICAgICAgIGxldCBhcmVhID0gMFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cGRhdGVkUG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGogPSAoaSArIDEpICUgdXBkYXRlZFBvaW50cy5sZW5ndGhcbiAgICAgICAgICAgICAgYXJlYSArPSB1cGRhdGVkUG9pbnRzW2ldLnggKiB1cGRhdGVkUG9pbnRzW2pdLnlcbiAgICAgICAgICAgICAgYXJlYSAtPSB1cGRhdGVkUG9pbnRzW2pdLnggKiB1cGRhdGVkUG9pbnRzW2ldLnlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFyZWEgPSBNYXRoLmFicyhhcmVhKSAvIDJcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ29udmVydCBmcm9tIHBpeGVscyB0byBzcXVhcmUgZmVldFxuICAgICAgICAgICAgY29uc3QgYXJlYUluU3FGdCA9IGFyZWEgLyAoUElYRUxTX1BFUl9GT09UICogUElYRUxTX1BFUl9GT09UKVxuICAgICAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKGFyZWFJblNxRnQpXG4gICAgICAgICAgICBsYWJlbCA9IGBBcmVhOiAke3ZhbHVlLnRvTG9jYWxlU3RyaW5nKCl9IHNxIGZ0YFxuICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlTWVhc3VyZW1lbnRUb29sID09PSAncGVyaW1ldGVyJyAmJiB1cGRhdGVkUG9pbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcGVyaW1ldGVyIChzdW0gb2YgYWxsIHNlZ21lbnRzICsgY2xvc2luZyBzZWdtZW50KVxuICAgICAgICAgICAgbGV0IHBlcmltZXRlciA9IDBcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXBkYXRlZFBvaW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgZHggPSB1cGRhdGVkUG9pbnRzW2kgKyAxXS54IC0gdXBkYXRlZFBvaW50c1tpXS54XG4gICAgICAgICAgICAgIGNvbnN0IGR5ID0gdXBkYXRlZFBvaW50c1tpICsgMV0ueSAtIHVwZGF0ZWRQb2ludHNbaV0ueVxuICAgICAgICAgICAgICBwZXJpbWV0ZXIgKz0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIGNsb3Npbmcgc2VnbWVudFxuICAgICAgICAgICAgY29uc3QgZHggPSB1cGRhdGVkUG9pbnRzWzBdLnggLSB1cGRhdGVkUG9pbnRzW3VwZGF0ZWRQb2ludHMubGVuZ3RoIC0gMV0ueFxuICAgICAgICAgICAgY29uc3QgZHkgPSB1cGRhdGVkUG9pbnRzWzBdLnkgLSB1cGRhdGVkUG9pbnRzW3VwZGF0ZWRQb2ludHMubGVuZ3RoIC0gMV0ueVxuICAgICAgICAgICAgcGVyaW1ldGVyICs9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ29udmVydCBmcm9tIHBpeGVscyB0byBmZWV0XG4gICAgICAgICAgICBjb25zdCBwZXJpbWV0ZXJJbkZ0ID0gcGVyaW1ldGVyIC8gUElYRUxTX1BFUl9GT09UXG4gICAgICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQocGVyaW1ldGVySW5GdClcbiAgICAgICAgICAgIGxhYmVsID0gYFBlcmltZXRlcjogJHt2YWx1ZS50b0xvY2FsZVN0cmluZygpfSBmdGBcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ01lYXN1cmVtZW50IGNvbXBsZXRlZDonLCB7IGlkOiBjdXJyZW50TWVhc3VyZW1lbnQuaWQsIHZhbHVlLCBsYWJlbCwgY29tcGxldGVkOiB0cnVlIH0pXG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHByZXYubWFwKG0gPT4gXG4gICAgICAgICAgICBtLmlkID09PSBjdXJyZW50TWVhc3VyZW1lbnQuaWQgXG4gICAgICAgICAgICAgID8geyAuLi5tLCBwb2ludHM6IHVwZGF0ZWRQb2ludHMsIHZhbHVlLCBsYWJlbCwgY29tcGxldGVkOiB0cnVlIH1cbiAgICAgICAgICAgICAgOiBtXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcHJldlxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gRGVhY3RpdmF0ZSB0aGUgbWVhc3VyZW1lbnQgdG9vbFxuICAgICAgc2V0QWN0aXZlTWVhc3VyZW1lbnRUb29sKG51bGwpXG4gICAgfVxuICB9LCBbYWN0aXZlTWVhc3VyZW1lbnRUb29sLCBjYW52YXNTdGF0ZSwgUElYRUxTX1BFUl9GT09UXSlcblxuICAvLyBCYWNrZ3JvdW5kIGltYWdlIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG4gIGNvbnN0IGhhbmRsZUJhY2tncm91bmRJbWFnZUFkZCA9IHVzZUNhbGxiYWNrKChpbWFnZTogT21pdDxCYWNrZ3JvdW5kSW1hZ2UsICdpZCc+KSA9PiB7XG4gICAgY29uc3QgaW1hZ2VXaXRoSWQgPSB7XG4gICAgICAuLi5pbWFnZSxcbiAgICAgIGlkOiBgYmctJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gXG4gICAgfVxuICAgIG9uQmFja2dyb3VuZEltYWdlQWRkPy4oaW1hZ2VXaXRoSWQpXG4gIH0sIFtvbkJhY2tncm91bmRJbWFnZUFkZF0pXG5cbiAgY29uc3QgaGFuZGxlQmFja2dyb3VuZEltYWdlU2VsZWN0ID0gKGltYWdlSWQ6IHN0cmluZyB8IG51bGwpID0+IHtcbiAgICBzZXRTZWxlY3RlZEJhY2tncm91bmRJbWFnZUlkKGltYWdlSWQpXG4gIH1cblxuICBjb25zdCBjYWxpYnJhdGVJbWFnZVNjYWxlID0gKGFjdHVhbERpc3RhbmNlOiBudW1iZXIsIGNhbGN1bGF0ZWREaXN0YW5jZTogbnVtYmVyKSA9PiB7XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBzY2FsZSBjb3JyZWN0aW9uIGZhY3RvclxuICAgIGNvbnN0IHNjYWxlQ29ycmVjdGlvbiA9IGFjdHVhbERpc3RhbmNlIC8gY2FsY3VsYXRlZERpc3RhbmNlXG4gICAgXG4gICAgLy8gQXBwbHkgdGhlIGNvcnJlY3Rpb24gdG8gYWxsIGJhY2tncm91bmQgaW1hZ2VzXG4gICAgYmFja2dyb3VuZEltYWdlcy5mb3JFYWNoKGltYWdlID0+IHtcbiAgICAgIGlmIChvbkJhY2tncm91bmRJbWFnZVVwZGF0ZSkge1xuICAgICAgICBvbkJhY2tncm91bmRJbWFnZVVwZGF0ZShpbWFnZS5pZCwge1xuICAgICAgICAgIHNjYWxlWDogaW1hZ2Uuc2NhbGVYICogc2NhbGVDb3JyZWN0aW9uLFxuICAgICAgICAgIHNjYWxlWTogaW1hZ2Uuc2NhbGVZICogc2NhbGVDb3JyZWN0aW9uXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgU2NhbGUgY2FsaWJyYXRlZDogJHtzY2FsZUNvcnJlY3Rpb24udG9GaXhlZCgzKX14IGNvcnJlY3Rpb24gYXBwbGllZCB0byAke2JhY2tncm91bmRJbWFnZXMubGVuZ3RofSBiYWNrZ3JvdW5kIGltYWdlc2ApXG4gIH1cblxuICBjb25zdCBoYW5kbGVTaG93RGlzdGFuY2VJbnB1dCA9IChcbiAgICBjYWxjdWxhdGVkRGlzdGFuY2U6IG51bWJlcixcbiAgICBvblN1Ym1pdDogKGFjdHVhbERpc3RhbmNlOiBudW1iZXIpID0+IHZvaWQsXG4gICAgb25DYW5jZWw6ICgpID0+IHZvaWRcbiAgKSA9PiB7XG4gICAgc2V0RGlzdGFuY2VJbnB1dERhdGEoe1xuICAgICAgY2FsY3VsYXRlZERpc3RhbmNlLFxuICAgICAgb25TdWJtaXQ6IChhY3R1YWxEaXN0YW5jZTogbnVtYmVyKSA9PiB7XG4gICAgICAgIC8vIENhbGlicmF0ZSB0aGUgaW1hZ2Ugc2NhbGUgYXV0b21hdGljYWxseVxuICAgICAgICBjYWxpYnJhdGVJbWFnZVNjYWxlKGFjdHVhbERpc3RhbmNlLCBjYWxjdWxhdGVkRGlzdGFuY2UpXG4gICAgICAgIFxuICAgICAgICBvblN1Ym1pdChhY3R1YWxEaXN0YW5jZSlcbiAgICAgICAgc2V0U2hvd0Rpc3RhbmNlSW5wdXQoZmFsc2UpXG4gICAgICAgIHNldERpc3RhbmNlSW5wdXREYXRhKG51bGwpXG4gICAgICB9LFxuICAgICAgb25DYW5jZWw6ICgpID0+IHtcbiAgICAgICAgb25DYW5jZWwoKVxuICAgICAgICBzZXRTaG93RGlzdGFuY2VJbnB1dChmYWxzZSlcbiAgICAgICAgc2V0RGlzdGFuY2VJbnB1dERhdGEobnVsbClcbiAgICAgIH1cbiAgICB9KVxuICAgIHNldFNob3dEaXN0YW5jZUlucHV0KHRydWUpXG4gIH1cblxuICAvLyBFbnN1cmUgY2xpZW50LXNpZGUgb25seSByZW5kZXJpbmcgdG8gcHJldmVudCBoeWRyYXRpb24gbWlzbWF0Y2hlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzQ2xpZW50KHRydWUpXG4gIH0sIFtdKVxuXG4gIC8vIERvbid0IHJlbmRlciBjYW52YXMgZHVyaW5nIFNTUiB0byBwcmV2ZW50IGh5ZHJhdGlvbiBtaXNtYXRjaGVzXG4gIGlmICghaXNDbGllbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2ByZWxhdGl2ZSB3LWZ1bGwgaC1mdWxsICR7Y2xhc3NOYW1lfSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTUwYH0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPkxvYWRpbmcgY2FudmFzLi4uPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgdy1mdWxsIGgtZnVsbCAke2NsYXNzTmFtZX1gfT5cbiAgICAgIHsvKiBDYW52YXMgQ29udHJvbHMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IHJpZ2h0LTQgei0xMCBmbGV4IGZsZXgtY29sIGdhcC0yXCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtyZXNldENhbnZhc31cbiAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHNoYWRvdyBob3ZlcjpiZy1ncmF5LTUwIHRleHQtc20gdGV4dC1ncmF5LTkwMFwiXG4gICAgICAgICAgdGl0bGU9XCJSZXNldCBWaWV3XCJcbiAgICAgICAgPlxuICAgICAgICAgIFJlc2V0XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17Zml0VG9Db250ZW50fVxuICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgc2hhZG93IGhvdmVyOmJnLWdyYXktNTAgdGV4dC1zbSB0ZXh0LWdyYXktOTAwXCJcbiAgICAgICAgICB0aXRsZT1cIkZpdCB0byBDb250ZW50XCJcbiAgICAgICAgPlxuICAgICAgICAgIEZpdFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBab29tIENvbnRyb2xzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17em9vbUlufVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcHgtNiBweS0xIGJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCBzaGFkb3cgaG92ZXI6YmctZ3JheS01MCB0ZXh0LXNtIHRleHQtZ3JheS05MDAgdGV4dC1jZW50ZXJcIlxuICAgICAgICAgICAgICB0aXRsZT1cIlpvb20gSW5cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICArXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17em9vbU91dH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIHB4LTYgcHktMSBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgc2hhZG93IGhvdmVyOmJnLWdyYXktNTAgdGV4dC1zbSB0ZXh0LWdyYXktOTAwIHRleHQtY2VudGVyXCJcbiAgICAgICAgICAgICAgdGl0bGU9XCJab29tIE91dFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIOKIklxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFpvb20gUGVyY2VudGFnZSBEaXNwbGF5ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktOTAwIGZvbnQtbWVkaXVtIGJnLXdoaXRlIHB4LTMgcHktMSByb3VuZGVkIGJvcmRlciBib3JkZXItZ3JheS0zMDAgc2hhZG93IHRleHQtY2VudGVyIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICBab29tICh7TWF0aC5yb3VuZChjYW52YXNTdGF0ZS5zY2FsZSAqIDEwMCl9JSlcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogTWF4IE91dCBCdXR0b24gKi99XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIXN0YWdlUmVmLmN1cnJlbnQpIHJldHVyblxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3Qgc3RhZ2UgPSBzdGFnZVJlZi5jdXJyZW50XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYmFja2dyb3VuZCBpbWFnZXMsIGZpdCB0aGUgbGFyZ2VzdCBvbmU7IG90aGVyd2lzZSBmaXQgY2FudmFzXG4gICAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2VzICYmIGJhY2tncm91bmRJbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGxhcmdlc3QgYmFja2dyb3VuZCBpbWFnZSBkaW1lbnNpb25zXG4gICAgICAgICAgICAgICAgbGV0IG1heFdpZHRoID0gMFxuICAgICAgICAgICAgICAgIGxldCBtYXhIZWlnaHQgPSAwXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldEltYWdlID0gbnVsbFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZXMuZm9yRWFjaChpbWcgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaW1nV2lkdGggPSAoaW1nLndpZHRoIHx8IDApICogKGltZy5zY2FsZVggfHwgMSlcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ0hlaWdodCA9IChpbWcuaGVpZ2h0IHx8IDApICogKGltZy5zY2FsZVkgfHwgMSlcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ0FyZWEgPSBpbWdXaWR0aCAqIGltZ0hlaWdodFxuICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudE1heEFyZWEgPSBtYXhXaWR0aCAqIG1heEhlaWdodFxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAoaW1nQXJlYSA+IGN1cnJlbnRNYXhBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heFdpZHRoID0gaW1nV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gaW1nSGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEltYWdlID0gaW1nXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAobWF4V2lkdGggPiAwICYmIG1heEhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBzY2FsZSB0byBmaXQgdGhlIGxhcmdlc3QgYmFja2dyb3VuZCBpbWFnZVxuICAgICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVYID0gc3RhZ2VTaXplLndpZHRoIC8gbWF4V2lkdGhcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlWSA9IHN0YWdlU2l6ZS5oZWlnaHQgLyBtYXhIZWlnaHRcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGZpdFNjYWxlID0gTWF0aC5taW4oc2NhbGVYLCBzY2FsZVkpICogMC45IC8vIDkwJSBwYWRkaW5nXG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIENlbnRlciB0aGUgaW1hZ2UgaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAgICAgICAgICBjb25zdCBjZW50ZXJYID0gKHN0YWdlU2l6ZS53aWR0aCAtIG1heFdpZHRoICogZml0U2NhbGUpIC8gMlxuICAgICAgICAgICAgICAgICAgY29uc3QgY2VudGVyWSA9IChzdGFnZVNpemUuaGVpZ2h0IC0gbWF4SGVpZ2h0ICogZml0U2NhbGUpIC8gMlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAvLyBJZiBpbWFnZSBoYXMgcG9zaXRpb24sIGFjY291bnQgZm9yIGl0XG4gICAgICAgICAgICAgICAgICBjb25zdCBhZGp1c3RlZFggPSBjZW50ZXJYIC0gKHRhcmdldEltYWdlPy54IHx8IDApICogZml0U2NhbGVcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkWSA9IGNlbnRlclkgLSAodGFyZ2V0SW1hZ2U/LnkgfHwgMCkgKiBmaXRTY2FsZVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBzdGFnZS5zY2FsZSh7IHg6IGZpdFNjYWxlLCB5OiBmaXRTY2FsZSB9KVxuICAgICAgICAgICAgICAgICAgc3RhZ2UucG9zaXRpb24oeyB4OiBhZGp1c3RlZFgsIHk6IGFkanVzdGVkWSB9KVxuICAgICAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KClcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgc2V0Q2FudmFzU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBzY2FsZTogZml0U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHg6IGFkanVzdGVkWCxcbiAgICAgICAgICAgICAgICAgICAgeTogYWRqdXN0ZWRZXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWF4IE91dDogRml0IHNhdGVsbGl0ZSBpbWFnZSAoJHtNYXRoLnJvdW5kKG1heFdpZHRoKX14JHtNYXRoLnJvdW5kKG1heEhlaWdodCl9cHgpIGluIHZpZXdwb3J0ICgke3N0YWdlU2l6ZS53aWR0aH14JHtzdGFnZVNpemUuaGVpZ2h0fXB4KSBhdCAke01hdGgucm91bmQoZml0U2NhbGUgKiAxMDApfSUgem9vbWApXG4gICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBmaXQgZW50aXJlIGNhbnZhcyBpZiBubyBiYWNrZ3JvdW5kIGltYWdlc1xuICAgICAgICAgICAgICBjb25zdCBzY2FsZVggPSBzdGFnZVNpemUud2lkdGggLyBDQU5WQVNfU0laRV9QSVhFTFNcbiAgICAgICAgICAgICAgY29uc3Qgc2NhbGVZID0gc3RhZ2VTaXplLmhlaWdodCAvIENBTlZBU19TSVpFX1BJWEVMU1xuICAgICAgICAgICAgICBjb25zdCBmaXRTY2FsZSA9IE1hdGgubWluKHNjYWxlWCwgc2NhbGVZKSAqIDAuOSAvLyA5MCUgdG8gYWRkIHNvbWUgcGFkZGluZ1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2VudGVyIHRoZSBjYW52YXMgaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAgICAgIGNvbnN0IGNlbnRlclggPSAoc3RhZ2VTaXplLndpZHRoIC0gQ0FOVkFTX1NJWkVfUElYRUxTICogZml0U2NhbGUpIC8gMlxuICAgICAgICAgICAgICBjb25zdCBjZW50ZXJZID0gKHN0YWdlU2l6ZS5oZWlnaHQgLSBDQU5WQVNfU0laRV9QSVhFTFMgKiBmaXRTY2FsZSkgLyAyXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBzdGFnZS5zY2FsZSh7IHg6IGZpdFNjYWxlLCB5OiBmaXRTY2FsZSB9KVxuICAgICAgICAgICAgICBzdGFnZS5wb3NpdGlvbih7IHg6IGNlbnRlclgsIHk6IGNlbnRlclkgfSlcbiAgICAgICAgICAgICAgc3RhZ2UuYmF0Y2hEcmF3KClcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldENhbnZhc1N0YXRlKHtcbiAgICAgICAgICAgICAgICBzY2FsZTogZml0U2NhbGUsXG4gICAgICAgICAgICAgICAgeDogY2VudGVyWCxcbiAgICAgICAgICAgICAgICB5OiBjZW50ZXJZXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTWF4IE91dDogRml0IGVudGlyZSBjYW52YXMgKCR7Q0FOVkFTX1NJWkVfUElYRUxTfXB4KSBpbiB2aWV3cG9ydCAoJHtzdGFnZVNpemUud2lkdGh9eCR7c3RhZ2VTaXplLmhlaWdodH1weCkgYXQgJHtNYXRoLnJvdW5kKGZpdFNjYWxlICogMTAwKX0lIHpvb21gKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMSBiZy13aGl0ZSBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgc2hhZG93IGhvdmVyOmJnLWdyYXktNTAgdGV4dC1zbSB0ZXh0LWdyYXktOTAwIHRleHQtY2VudGVyXCJcbiAgICAgICAgICAgIHRpdGxlPVwiRml0IEVudGlyZSBTYXRlbGxpdGUgSW1hZ2UgaW4gVmlld1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgTWF4IE91dFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEdyaWRWaXNpYmxlKCFncmlkVmlzaWJsZSl9XG4gICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0xIGJvcmRlciByb3VuZGVkIHNoYWRvdyB0ZXh0LXNtICR7XG4gICAgICAgICAgICBncmlkVmlzaWJsZSBcbiAgICAgICAgICAgICAgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBib3JkZXItYmx1ZS01MDAnIFxuICAgICAgICAgICAgICA6ICdiZy13aGl0ZSB0ZXh0LWdyYXktNzAwIGJvcmRlci1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTUwJ1xuICAgICAgICAgIH1gfVxuICAgICAgICAgIHRpdGxlPVwiVG9nZ2xlIEdyaWRcIlxuICAgICAgICA+XG4gICAgICAgICAgR3JpZFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEJhY2tncm91bmRNYW5hZ2VyT3Blbih0cnVlKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTEgYmctd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIHNoYWRvdyBob3ZlcjpiZy1ncmF5LTUwIHRleHQtc20gdGV4dC1ncmF5LTkwMFwiXG4gICAgICAgICAgdGl0bGU9XCJNYW5hZ2UgQmFja2dyb3VuZCBJbWFnZXNcIlxuICAgICAgICA+XG4gICAgICAgICAgSW1hZ2VzXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2NhbGVCYXJWaXNpYmxlKCFzY2FsZUJhclZpc2libGUpfVxuICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSBib3JkZXIgcm91bmRlZCBzaGFkb3cgdGV4dC1zbSAke1xuICAgICAgICAgICAgc2NhbGVCYXJWaXNpYmxlIFxuICAgICAgICAgICAgICA/ICdiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSBib3JkZXItZ3JlZW4tNTAwJyBcbiAgICAgICAgICAgICAgOiAnYmctd2hpdGUgdGV4dC1ncmF5LTcwMCBib3JkZXItZ3JheS0zMDAgaG92ZXI6YmctZ3JheS01MCdcbiAgICAgICAgICB9YH1cbiAgICAgICAgICB0aXRsZT1cIlRvZ2dsZSBTY2FsZSBCYXJcIlxuICAgICAgICA+XG4gICAgICAgICAgU2NhbGVcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIHsvKiBFbmhhbmNlZCBNZWFzdXJlbWVudCBDb250cm9scyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMVwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG1lYXN1cmVtZW50VG9vbEFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IG1lYXN1cmVtZW50IGlmIGFscmVhZHkgYWN0aXZlXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudE1lYXN1cmVtZW50KG51bGwpXG4gICAgICAgICAgICAgICAgc2V0TWVhc3VyZW1lbnRUb29sQWN0aXZlKGZhbHNlKVxuICAgICAgICAgICAgICAgIHNldE1lYXN1cmVtZW50RWRpdE1vZGUoZmFsc2UpXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU3RhcnQgbmV3IG1lYXN1cmVtZW50XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudE1lYXN1cmVtZW50KHtcbiAgICAgICAgICAgICAgICAgIGlkOiBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICBmaXJzdFBvaW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2Vjb25kUG9pbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgc2V0TWVhc3VyZW1lbnRUb29sQWN0aXZlKHRydWUpXG4gICAgICAgICAgICAgICAgc2V0TWVhc3VyZW1lbnRFZGl0TW9kZShmYWxzZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSBib3JkZXIgcm91bmRlZCBzaGFkb3cgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBtZWFzdXJlbWVudFRvb2xBY3RpdmUgJiYgIW1lYXN1cmVtZW50RWRpdE1vZGVcbiAgICAgICAgICAgICAgICA/ICdiZy1vcmFuZ2UtNTAwIHRleHQtd2hpdGUgYm9yZGVyLW9yYW5nZS01MDAnXG4gICAgICAgICAgICAgICAgOiAnYmctd2hpdGUgdGV4dC1ncmF5LTkwMCBib3JkZXItZ3JheS0zMDAgaG92ZXI6YmctZ3JheS01MCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgdGl0bGU9XCJTdGFydCBOZXcgTWVhc3VyZW1lbnRcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIPCfk48gTWVhc3VyZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNZWFzdXJlbWVudD8uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIHNldE1lYXN1cmVtZW50RWRpdE1vZGUoIW1lYXN1cmVtZW50RWRpdE1vZGUpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBkaXNhYmxlZD17IWN1cnJlbnRNZWFzdXJlbWVudD8uaXNDb21wbGV0ZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTMgcHktMSBib3JkZXIgcm91bmRlZCBzaGFkb3cgdGV4dC1zbSB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBtZWFzdXJlbWVudEVkaXRNb2RlXG4gICAgICAgICAgICAgICAgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBib3JkZXItYmx1ZS01MDAnXG4gICAgICAgICAgICAgICAgOiBjdXJyZW50TWVhc3VyZW1lbnQ/LmlzQ29tcGxldGVcbiAgICAgICAgICAgICAgICA/ICdiZy13aGl0ZSB0ZXh0LWdyYXktOTAwIGJvcmRlci1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTUwJ1xuICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMjAwIHRleHQtZ3JheS00MDAgYm9yZGVyLWdyYXktMjAwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgdGl0bGU9XCJFZGl0IE1lYXN1cmVtZW50IExpbmVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOKcj++4jyBFZGl0XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoY3VycmVudE1lYXN1cmVtZW50Py5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgc2V0U2hvd0NhbGlicmF0ZURpYWxvZyh0cnVlKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgZGlzYWJsZWQ9eyFjdXJyZW50TWVhc3VyZW1lbnQ/LmlzQ29tcGxldGV9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2BweC0zIHB5LTEgYm9yZGVyIHJvdW5kZWQgc2hhZG93IHRleHQtc20gdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgY3VycmVudE1lYXN1cmVtZW50Py5pc0NvbXBsZXRlXG4gICAgICAgICAgICAgICAgPyAnYmctd2hpdGUgdGV4dC1ncmF5LTkwMCBib3JkZXItZ3JheS0zMDAgaG92ZXI6YmctZ3JheS01MCdcbiAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNDAwIGJvcmRlci1ncmF5LTIwMCBjdXJzb3Itbm90LWFsbG93ZWQnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIHRpdGxlPVwiQ2FsaWJyYXRlIFNjYWxlXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDwn46vIENhbGlicmF0ZVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBBZHZhbmNlZCBNZWFzdXJlbWVudCBUb29scyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtMVwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZU1lYXN1cmVtZW50VG9vbChhY3RpdmVNZWFzdXJlbWVudFRvb2wgPT09ICdhcmVhJyA/IG51bGwgOiAnYXJlYScpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0yIHJvdW5kZWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBhY3RpdmVNZWFzdXJlbWVudFRvb2wgPT09ICdhcmVhJ1xuICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTUwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIHRleHQtZ3JheS03MDAgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTUwJ1xuICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICB0aXRsZT1cIkFyZWEgTWVhc3VyZW1lbnQgVG9vbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAg8J+TkCBBcmVhXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlTWVhc3VyZW1lbnRUb29sKGFjdGl2ZU1lYXN1cmVtZW50VG9vbCA9PT0gJ3BlcmltZXRlcicgPyBudWxsIDogJ3BlcmltZXRlcicpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0yIHJvdW5kZWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBhY3RpdmVNZWFzdXJlbWVudFRvb2wgPT09ICdwZXJpbWV0ZXInXG4gICAgICAgICAgICAgICAgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZSdcbiAgICAgICAgICAgICAgICA6ICdiZy13aGl0ZSB0ZXh0LWdyYXktNzAwIGJvcmRlciBib3JkZXItZ3JheS0zMDAgaG92ZXI6YmctZ3JheS01MCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgdGl0bGU9XCJQZXJpbWV0ZXIgTWVhc3VyZW1lbnQgVG9vbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAg8J+TjyBQZXJpbWV0ZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVNZWFzdXJlbWVudFRvb2woYWN0aXZlTWVhc3VyZW1lbnRUb29sID09PSAnZGlzdGFuY2UnID8gbnVsbCA6ICdkaXN0YW5jZScpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMyBweS0yIHJvdW5kZWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICBhY3RpdmVNZWFzdXJlbWVudFRvb2wgPT09ICdkaXN0YW5jZSdcbiAgICAgICAgICAgICAgICA/ICdiZy1hbWJlci01MDAgdGV4dC13aGl0ZSdcbiAgICAgICAgICAgICAgICA6ICdiZy13aGl0ZSB0ZXh0LWdyYXktNzAwIGJvcmRlciBib3JkZXItZ3JheS0zMDAgaG92ZXI6YmctZ3JheS01MCdcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgdGl0bGU9XCJEaXN0YW5jZSBNZWFzdXJlbWVudCBUb29sXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDwn5OPIERpc3RhbmNlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIENhbnZhcyBJbmZvIHJlbW92ZWQgLSBtb3ZlZCB0byBQcm9wZXJ0aWVzIHBhbmVsICovfVxuXG4gICAgICB7LyogS29udmEgU3RhZ2UgKi99XG4gICAgICA8U3RhZ2VcbiAgICAgICAgcmVmPXtzdGFnZVJlZn1cbiAgICAgICAgd2lkdGg9e3N0YWdlU2l6ZS53aWR0aH1cbiAgICAgICAgaGVpZ2h0PXtzdGFnZVNpemUuaGVpZ2h0fVxuICAgICAgICBkcmFnZ2FibGU9eyFtZWFzdXJlbWVudFRvb2xBY3RpdmUgJiYgIWFjdGl2ZU1lYXN1cmVtZW50VG9vbH1cbiAgICAgICAgb25XaGVlbD17aGFuZGxlV2hlZWx9XG4gICAgICAgIG9uRHJhZ0VuZD17aGFuZGxlRHJhZ0VuZH1cbiAgICAgICAgb25DbGljaz17aGFuZGxlU3RhZ2VDbGlja31cbiAgICAgICAgb25EYmxDbGljaz17aGFuZGxlU3RhZ2VEb3VibGVDbGlja31cbiAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBiZy1ncmF5LTUwXCJcbiAgICAgICAgb25Db250ZW50TW91c2VEb3duPXsoKSA9PiB7XG4gICAgICAgICAgLy8gRW5zdXJlIGNhbnZhcyBlbGVtZW50IGlzIGNhcHR1cmVkIGFmdGVyIHN0YWdlIGlzIGZ1bGx5IG1vdW50ZWRcbiAgICAgICAgICBpZiAoc3RhZ2VSZWYuY3VycmVudCAmJiBvbkNhbnZhc1JlYWR5KSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBzdGFnZVJlZi5jdXJyZW50LmNvbnRhaW5lcigpXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGFnZSBtb3VudGVkLCBjYXB0dXJpbmcgY2FudmFzIGVsZW1lbnQ6JywgY29udGFpbmVyKVxuICAgICAgICAgICAgICBvbkNhbnZhc1JlYWR5KGNvbnRhaW5lcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxMYXllcj5cbiAgICAgICAgICB7LyogQmFja2dyb3VuZCBJbWFnZXMgTGF5ZXIgKi99XG4gICAgICAgICAgPEJhY2tncm91bmRMYXllclxuICAgICAgICAgICAgaW1hZ2VzPXtiYWNrZ3JvdW5kSW1hZ2VzfVxuICAgICAgICAgICAgb25JbWFnZVVwZGF0ZT17b25CYWNrZ3JvdW5kSW1hZ2VVcGRhdGV9XG4gICAgICAgICAgICBvbkltYWdlRGVsZXRlPXtvbkJhY2tncm91bmRJbWFnZURlbGV0ZX1cbiAgICAgICAgICAgIG9uSW1hZ2VTZWxlY3Q9e2hhbmRsZUJhY2tncm91bmRJbWFnZVNlbGVjdH1cbiAgICAgICAgICAgIHNlbGVjdGVkSW1hZ2VJZD17c2VsZWN0ZWRCYWNrZ3JvdW5kSW1hZ2VJZH1cbiAgICAgICAgICAgIHNjYWxlPXtjYW52YXNTdGF0ZS5zY2FsZX1cbiAgICAgICAgICAgIGVkaXRhYmxlPXt0cnVlfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEdyaWQgTGF5ZXIgKi99XG4gICAgICAgICAgPEdyaWRMYXllclxuICAgICAgICAgICAgd2lkdGg9e0NBTlZBU19TSVpFX1BJWEVMU31cbiAgICAgICAgICAgIGhlaWdodD17Q0FOVkFTX1NJWkVfUElYRUxTfVxuICAgICAgICAgICAgc2NhbGU9e2NhbnZhc1N0YXRlLnNjYWxlfVxuICAgICAgICAgICAgeD17Y2FudmFzU3RhdGUueH1cbiAgICAgICAgICAgIHk9e2NhbnZhc1N0YXRlLnl9XG4gICAgICAgICAgICB2aXNpYmxlPXtncmlkVmlzaWJsZX1cbiAgICAgICAgICAgIGdyaWRTaXplPXtQSVhFTFNfUEVSX0ZPT1R9IC8vIDEwIHBpeGVscyA9IDEgZm9vdCBmb3IgMjUwayBzcSBmdCBjYW52YXNcbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBFcXVpcG1lbnQgTGF5ZXIgKi99XG4gICAgICAgICAgPEVxdWlwbWVudExheWVyXG4gICAgICAgICAgICBlcXVpcG1lbnQ9e3BsYWNlZEVxdWlwbWVudH1cbiAgICAgICAgICAgIGVxdWlwbWVudERlZmluaXRpb25zPXtlcXVpcG1lbnREZWZpbml0aW9uc31cbiAgICAgICAgICAgIHNjYWxlPXtjYW52YXNTdGF0ZS5zY2FsZX1cbiAgICAgICAgICAgIG9uRXF1aXBtZW50U2VsZWN0PXtvbkVxdWlwbWVudFNlbGVjdH1cbiAgICAgICAgICAgIG9uRXF1aXBtZW50TW92ZT17b25FcXVpcG1lbnRNb3ZlfVxuICAgICAgICAgICAgb25FcXVpcG1lbnRSb3RhdGU9e29uRXF1aXBtZW50Um90YXRlfVxuICAgICAgICAgICAgb25FcXVpcG1lbnREZWxldGU9e29uRXF1aXBtZW50RGVsZXRlfVxuICAgICAgICAgICAgc2VsZWN0ZWRFcXVpcG1lbnRJZD17c2VsZWN0ZWRFcXVpcG1lbnRJZH1cbiAgICAgICAgICAgIHNuYXBUb0dyaWQ9e3RydWV9XG4gICAgICAgICAgICBncmlkU2l6ZT17UElYRUxTX1BFUl9GT09UfVxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEVuaGFuY2VkIE1lYXN1cmVtZW50IFRvb2wgKi99XG4gICAgICAgICAgPEVuaGFuY2VkTWVhc3VyZW1lbnRUb29sXG4gICAgICAgICAgICBpc0FjdGl2ZT17bWVhc3VyZW1lbnRUb29sQWN0aXZlICYmICFhY3RpdmVNZWFzdXJlbWVudFRvb2x9XG4gICAgICAgICAgICBlZGl0TW9kZT17bWVhc3VyZW1lbnRFZGl0TW9kZX1cbiAgICAgICAgICAgIHNjYWxlPXtjYW52YXNTdGF0ZS5zY2FsZX1cbiAgICAgICAgICAgIHBpeGVsc1BlckZvb3Q9e1BJWEVMU19QRVJfRk9PVH1cbiAgICAgICAgICAgIGN1cnJlbnRNZWFzdXJlbWVudD17Y3VycmVudE1lYXN1cmVtZW50fVxuICAgICAgICAgICAgb25Qb2ludFNldD17aGFuZGxlRW5oYW5jZWRNZWFzdXJlbWVudFBvaW50U2V0fVxuICAgICAgICAgICAgb25NZWFzdXJlbWVudENvbXBsZXRlPXsoZGlzdGFuY2UpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VuaGFuY2VkIG1lYXN1cmVtZW50IGNvbXBsZXRlZDonLCBkaXN0YW5jZSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25NZWFzdXJlbWVudEVkaXQ9e2hhbmRsZUVuaGFuY2VkTWVhc3VyZW1lbnRFZGl0fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIExlZ2FjeSBNZWFzdXJlbWVudCBUb29sICovfVxuICAgICAgICAgIDxNZWFzdXJlbWVudFRvb2xcbiAgICAgICAgICAgIGlzQWN0aXZlPXtmYWxzZX0gLy8gRGlzYWJsZWQgaW4gZmF2b3Igb2YgZW5oYW5jZWQgdG9vbFxuICAgICAgICAgICAgc2NhbGU9e2NhbnZhc1N0YXRlLnNjYWxlfVxuICAgICAgICAgICAgcGl4ZWxzUGVyRm9vdD17UElYRUxTX1BFUl9GT09UfVxuICAgICAgICAgICAgb25NZWFzdXJlbWVudENvbXBsZXRlPXsobWVhc3VyZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgc2V0TWVhc3VyZW1lbnRzKHByZXYgPT4gWy4uLnByZXYsIG1lYXN1cmVtZW50XSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdOZXcgbWVhc3VyZW1lbnQ6JywgbWVhc3VyZW1lbnQpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uU2hvd0Rpc3RhbmNlSW5wdXQ9e2hhbmRsZVNob3dEaXN0YW5jZUlucHV0fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFNpbXBsZSBNZWFzdXJlbWVudCBUb29scyAqL31cbiAgICAgICAgICA8U2ltcGxlTWVhc3VyZW1lbnRUb29sXG4gICAgICAgICAgICBhY3RpdmVUb29sPXthY3RpdmVNZWFzdXJlbWVudFRvb2x9XG4gICAgICAgICAgICBzY2FsZT17Y2FudmFzU3RhdGUuc2NhbGV9XG4gICAgICAgICAgICBwaXhlbHNQZXJGb290PXtQSVhFTFNfUEVSX0ZPT1R9XG4gICAgICAgICAgICBtZWFzdXJlbWVudHM9e3NpbXBsZU1lYXN1cmVtZW50c31cbiAgICAgICAgICAgIG9uTWVhc3VyZW1lbnRDb21wbGV0ZT17KG1lYXN1cmVtZW50KSA9PiB7XG4gICAgICAgICAgICAgIHNldFNpbXBsZU1lYXN1cmVtZW50cyhwcmV2ID0+IFsuLi5wcmV2LCBtZWFzdXJlbWVudF0pXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25NZWFzdXJlbWVudERlbGV0ZT17KGlkKSA9PiB7XG4gICAgICAgICAgICAgIHNldFNpbXBsZU1lYXN1cmVtZW50cyhwcmV2ID0+IHByZXYuZmlsdGVyKG0gPT4gbS5pZCAhPT0gaWQpKVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBTY2FsZSBCYXIgT3ZlcmxheSAqL31cbiAgICAgICAgICB7c2NhbGVCYXJWaXNpYmxlICYmIChcbiAgICAgICAgICAgIDxTY2FsZUJhclxuICAgICAgICAgICAgICBzY2FsZT17Y2FudmFzU3RhdGUuc2NhbGV9XG4gICAgICAgICAgICAgIGNhbnZhc1dpZHRoPXtzdGFnZVNpemUud2lkdGh9XG4gICAgICAgICAgICAgIGNhbnZhc0hlaWdodD17c3RhZ2VTaXplLmhlaWdodH1cbiAgICAgICAgICAgICAgcGl4ZWxzUGVyRm9vdD17UElYRUxTX1BFUl9GT09UfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L0xheWVyPlxuICAgICAgPC9TdGFnZT5cbiAgICAgIFxuICAgICAgey8qIEJhY2tncm91bmQgSW1hZ2UgTWFuYWdlciBNb2RhbCAqL31cbiAgICAgIDxCYWNrZ3JvdW5kSW1hZ2VNYW5hZ2VyXG4gICAgICAgIGltYWdlcz17YmFja2dyb3VuZEltYWdlc31cbiAgICAgICAgb25JbWFnZUFkZD17aGFuZGxlQmFja2dyb3VuZEltYWdlQWRkfVxuICAgICAgICBvbkltYWdlVXBkYXRlPXtvbkJhY2tncm91bmRJbWFnZVVwZGF0ZSB8fCAoKCkgPT4ge30pfVxuICAgICAgICBvbkltYWdlRGVsZXRlPXtvbkJhY2tncm91bmRJbWFnZURlbGV0ZSB8fCAoKCkgPT4ge30pfVxuICAgICAgICBvbkltYWdlU2VsZWN0PXtoYW5kbGVCYWNrZ3JvdW5kSW1hZ2VTZWxlY3R9XG4gICAgICAgIHNlbGVjdGVkSW1hZ2VJZD17c2VsZWN0ZWRCYWNrZ3JvdW5kSW1hZ2VJZH1cbiAgICAgICAgaXNPcGVuPXtiYWNrZ3JvdW5kTWFuYWdlck9wZW59XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEJhY2tncm91bmRNYW5hZ2VyT3BlbihmYWxzZSl9XG4gICAgICAvPlxuICAgICAgXG4gICAgICB7LyogRGlzdGFuY2UgSW5wdXQgTW9kYWwgKi99XG4gICAgICA8RGlzdGFuY2VJbnB1dE1vZGFsXG4gICAgICAgIGlzT3Blbj17c2hvd0Rpc3RhbmNlSW5wdXR9XG4gICAgICAgIGNhbGN1bGF0ZWREaXN0YW5jZT17ZGlzdGFuY2VJbnB1dERhdGE/LmNhbGN1bGF0ZWREaXN0YW5jZSB8fCAwfVxuICAgICAgICBvblN1Ym1pdD17ZGlzdGFuY2VJbnB1dERhdGE/Lm9uU3VibWl0IHx8ICgoKSA9PiB7fSl9XG4gICAgICAgIG9uQ2FuY2VsPXtkaXN0YW5jZUlucHV0RGF0YT8ub25DYW5jZWwgfHwgKCgpID0+IHt9KX1cbiAgICAgIC8+XG4gICAgICBcbiAgICAgIHsvKiBFbmhhbmNlZCBDYWxpYnJhdGUgRGlhbG9nICovfVxuICAgICAgPEVuaGFuY2VkQ2FsaWJyYXRlRGlhbG9nXG4gICAgICAgIGlzT3Blbj17c2hvd0NhbGlicmF0ZURpYWxvZ31cbiAgICAgICAgY2FsY3VsYXRlZERpc3RhbmNlPXtjdXJyZW50TWVhc3VyZW1lbnQgJiYgY3VycmVudE1lYXN1cmVtZW50LmZpcnN0UG9pbnQgJiYgY3VycmVudE1lYXN1cmVtZW50LnNlY29uZFBvaW50IFxuICAgICAgICAgID8gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICBNYXRoLnBvdyhjdXJyZW50TWVhc3VyZW1lbnQuc2Vjb25kUG9pbnQueCAtIGN1cnJlbnRNZWFzdXJlbWVudC5maXJzdFBvaW50LngsIDIpICtcbiAgICAgICAgICAgICAgTWF0aC5wb3coY3VycmVudE1lYXN1cmVtZW50LnNlY29uZFBvaW50LnkgLSBjdXJyZW50TWVhc3VyZW1lbnQuZmlyc3RQb2ludC55LCAyKVxuICAgICAgICAgICAgKSAvIFBJWEVMU19QRVJfRk9PVFxuICAgICAgICAgIDogMFxuICAgICAgICB9XG4gICAgICAgIG9uU3VibWl0PXtoYW5kbGVDYWxpYnJhdGVTdWJtaXR9XG4gICAgICAgIG9uRWRpdD17aGFuZGxlQ2FsaWJyYXRlRWRpdH1cbiAgICAgICAgb25DYW5jZWw9e2hhbmRsZUNhbGlicmF0ZUNhbmNlbH1cbiAgICAgIC8+XG4gICAgPC9kaXY+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FudmFzRWRpdG9yXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwiU3RhZ2UiLCJMYXllciIsIkdyaWRMYXllciIsIkVxdWlwbWVudExheWVyIiwiQmFja2dyb3VuZExheWVyIiwiQmFja2dyb3VuZEltYWdlTWFuYWdlciIsIlNjYWxlQmFyIiwiTWVhc3VyZW1lbnRUb29sIiwiRGlzdGFuY2VJbnB1dE1vZGFsIiwiU2ltcGxlTWVhc3VyZW1lbnRUb29sIiwiRW5oYW5jZWRNZWFzdXJlbWVudFRvb2wiLCJFbmhhbmNlZENhbGlicmF0ZURpYWxvZyIsIkNhbnZhc0VkaXRvciIsIndpZHRoIiwiaGVpZ2h0IiwiY2xhc3NOYW1lIiwib25FcXVpcG1lbnRBZGQiLCJwbGFjZWRFcXVpcG1lbnQiLCJlcXVpcG1lbnREZWZpbml0aW9ucyIsIm9uRXF1aXBtZW50U2VsZWN0Iiwib25FcXVpcG1lbnRNb3ZlIiwib25FcXVpcG1lbnRSb3RhdGUiLCJvbkVxdWlwbWVudERlbGV0ZSIsInNlbGVjdGVkRXF1aXBtZW50SWQiLCJiYWNrZ3JvdW5kSW1hZ2VzIiwib25CYWNrZ3JvdW5kSW1hZ2VBZGQiLCJvbkJhY2tncm91bmRJbWFnZVVwZGF0ZSIsIm9uQmFja2dyb3VuZEltYWdlRGVsZXRlIiwib25DYW52YXNSZWFkeSIsInN0YWdlUmVmIiwiaXNDbGllbnQiLCJzZXRJc0NsaWVudCIsIkNBTlZBU19BUkVBX1NRX0ZUIiwiQ0FOVkFTX1NJREVfRlQiLCJNYXRoIiwic3FydCIsIlBJWEVMU19QRVJfRk9PVCIsIkNBTlZBU19TSVpFX1BJWEVMUyIsImNhbnZhc1N0YXRlIiwic2V0Q2FudmFzU3RhdGUiLCJzY2FsZSIsIngiLCJ5Iiwic3RhZ2VTaXplIiwic2V0U3RhZ2VTaXplIiwiZ3JpZFZpc2libGUiLCJzZXRHcmlkVmlzaWJsZSIsImJhY2tncm91bmRNYW5hZ2VyT3BlbiIsInNldEJhY2tncm91bmRNYW5hZ2VyT3BlbiIsInNlbGVjdGVkQmFja2dyb3VuZEltYWdlSWQiLCJzZXRTZWxlY3RlZEJhY2tncm91bmRJbWFnZUlkIiwic2NhbGVCYXJWaXNpYmxlIiwic2V0U2NhbGVCYXJWaXNpYmxlIiwibWVhc3VyZW1lbnRUb29sQWN0aXZlIiwic2V0TWVhc3VyZW1lbnRUb29sQWN0aXZlIiwibWVhc3VyZW1lbnRzIiwic2V0TWVhc3VyZW1lbnRzIiwiYWN0aXZlTWVhc3VyZW1lbnRUb29sIiwic2V0QWN0aXZlTWVhc3VyZW1lbnRUb29sIiwic2ltcGxlTWVhc3VyZW1lbnRzIiwic2V0U2ltcGxlTWVhc3VyZW1lbnRzIiwic2hvd0Rpc3RhbmNlSW5wdXQiLCJzZXRTaG93RGlzdGFuY2VJbnB1dCIsImRpc3RhbmNlSW5wdXREYXRhIiwic2V0RGlzdGFuY2VJbnB1dERhdGEiLCJtZWFzdXJlbWVudEVkaXRNb2RlIiwic2V0TWVhc3VyZW1lbnRFZGl0TW9kZSIsImN1cnJlbnRNZWFzdXJlbWVudCIsInNldEN1cnJlbnRNZWFzdXJlbWVudCIsInNob3dDYWxpYnJhdGVEaWFsb2ciLCJzZXRTaG93Q2FsaWJyYXRlRGlhbG9nIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJjdXJyZW50IiwiY29udGFpbmVyIiwiY29uc29sZSIsImxvZyIsImNsZWFyVGltZW91dCIsImhhbmRsZVJlc2l6ZSIsImNvbnRhaW5lcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJjb250YWluZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVdoZWVsIiwiZSIsImV2dCIsInByZXZlbnREZWZhdWx0Iiwic3RhZ2UiLCJ0YXJnZXQiLCJnZXRTdGFnZSIsIm9sZFNjYWxlIiwic2NhbGVYIiwicG9pbnRlciIsImdldFBvaW50ZXJQb3NpdGlvbiIsInNjYWxlQnkiLCJuZXdTY2FsZSIsImRlbHRhWSIsIm1pblNjYWxlIiwibWF4U2NhbGUiLCJjbGFtcGVkU2NhbGUiLCJtYXgiLCJtaW4iLCJtb3VzZVBvaW50VG8iLCJuZXdQb3MiLCJwb3NpdGlvbiIsImJhdGNoRHJhdyIsImhhbmRsZURyYWdFbmQiLCJwcmV2IiwicmVzZXRDYW52YXMiLCJkZWZhdWx0U2NhbGUiLCJjZW50ZXJYIiwiY2VudGVyWSIsImZpdFRvQ29udGVudCIsImxlbmd0aCIsIm1pblgiLCJJbmZpbml0eSIsIm1heFgiLCJtaW5ZIiwibWF4WSIsImZvckVhY2giLCJlcXVpcG1lbnQiLCJlcXVpcG1lbnREZWYiLCJmaW5kIiwiZGVmIiwiaWQiLCJlcXVpcG1lbnRJZCIsImRpbWVuc2lvbnMiLCJpc0NpcmN1bGFyIiwic2hhcGUiLCJjbGVhcmFuY2UiLCJyaWRlQ2xlYXJpbmciLCJjbGVhcmFuY2VQaXhlbHMiLCJlcXVpcG1lbnRNaW5YIiwiZXF1aXBtZW50TWF4WCIsImVxdWlwbWVudE1pblkiLCJlcXVpcG1lbnRNYXhZIiwicmFkaXVzIiwicGFkZGluZyIsImNvbnRlbnRXaWR0aCIsImNvbnRlbnRIZWlnaHQiLCJzY2FsZVkiLCJvcHRpbWFsU2NhbGUiLCJuZXdYIiwibmV3WSIsImNvbnRlbnRCb3VuZHMiLCJjZW50ZXIiLCJ6b29tSW4iLCJ6b29tT3V0IiwiZ2V0VmlzaWJsZUJvdW5kcyIsImJ1ZmZlciIsImhhbmRsZU1lYXN1cmVtZW50VG9vbENsaWNrIiwiaGFuZGxlcnMiLCJtZWFzdXJlbWVudFRvb2xIYW5kbGVycyIsImhhbmRsZUNsaWNrIiwiaGFuZGxlTWVhc3VyZW1lbnRUb29sRG91YmxlQ2xpY2siLCJtIiwiY29tcGxldGVkIiwicG9pbnRzIiwidmFsdWUiLCJsYWJlbCIsImFyZWEiLCJuIiwiaSIsImoiLCJhYnMiLCJ0b0ZpeGVkIiwicGVyaW1ldGVyIiwiZHgiLCJkeSIsImNvbXBsZXRlZE1lYXN1cmVtZW50IiwibWFwIiwiaGFuZGxlRW5oYW5jZWRNZWFzdXJlbWVudFBvaW50U2V0IiwicG9pbnQiLCJmaXJzdFBvaW50Iiwic2Vjb25kUG9pbnQiLCJ1cGRhdGVkTWVhc3VyZW1lbnQiLCJpc0NvbXBsZXRlIiwicGl4ZWxEaXN0YW5jZSIsImNhbGN1bGF0ZWREaXN0YW5jZSIsImhhbmRsZUVuaGFuY2VkTWVhc3VyZW1lbnRFZGl0IiwiaGFuZGxlQ2FsaWJyYXRlU3VibWl0IiwiYWN0dWFsRGlzdGFuY2UiLCJzY2FsZUZhY3RvciIsInJlYWxXb3JsZERpc3RhbmNlIiwiaW1hZ2UiLCJoYW5kbGVDYWxpYnJhdGVFZGl0IiwiaGFuZGxlQ2FsaWJyYXRlQ2FuY2VsIiwiaGFuZGxlQ2FudmFzQ2xpY2siLCJjYW52YXNYIiwiY2FudmFzWSIsIm5ld1BvaW50Iiwic29tZSIsInVwZGF0ZWRQb2ludHMiLCJkaXN0YW5jZSIsInBvdyIsIm5ld01lYXN1cmVtZW50IiwiRGF0ZSIsIm5vdyIsInR5cGUiLCJoYW5kbGVTdGFnZUNsaWNrIiwiY2xpY2tlZE9uRW1wdHkiLCJwb3MiLCJlbmhhbmNlZE1lYXN1cmVtZW50SGFuZGxlcnMiLCJoYW5kbGVTdGFnZURvdWJsZUNsaWNrIiwiYXJlYUluU3FGdCIsInJvdW5kIiwidG9Mb2NhbGVTdHJpbmciLCJwZXJpbWV0ZXJJbkZ0IiwiaGFuZGxlQmFja2dyb3VuZEltYWdlQWRkIiwiaW1hZ2VXaXRoSWQiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImhhbmRsZUJhY2tncm91bmRJbWFnZVNlbGVjdCIsImltYWdlSWQiLCJjYWxpYnJhdGVJbWFnZVNjYWxlIiwic2NhbGVDb3JyZWN0aW9uIiwiaGFuZGxlU2hvd0Rpc3RhbmNlSW5wdXQiLCJvblN1Ym1pdCIsIm9uQ2FuY2VsIiwiZGl2IiwiYnV0dG9uIiwib25DbGljayIsInRpdGxlIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJ0YXJnZXRJbWFnZSIsImltZyIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiaW1nQXJlYSIsImN1cnJlbnRNYXhBcmVhIiwiZml0U2NhbGUiLCJhZGp1c3RlZFgiLCJhZGp1c3RlZFkiLCJkaXNhYmxlZCIsInJlZiIsImRyYWdnYWJsZSIsIm9uV2hlZWwiLCJvbkRyYWdFbmQiLCJvbkRibENsaWNrIiwib25Db250ZW50TW91c2VEb3duIiwiaW1hZ2VzIiwib25JbWFnZVVwZGF0ZSIsIm9uSW1hZ2VEZWxldGUiLCJvbkltYWdlU2VsZWN0Iiwic2VsZWN0ZWRJbWFnZUlkIiwiZWRpdGFibGUiLCJ2aXNpYmxlIiwiZ3JpZFNpemUiLCJzbmFwVG9HcmlkIiwiaXNBY3RpdmUiLCJlZGl0TW9kZSIsInBpeGVsc1BlckZvb3QiLCJvblBvaW50U2V0Iiwib25NZWFzdXJlbWVudENvbXBsZXRlIiwib25NZWFzdXJlbWVudEVkaXQiLCJtZWFzdXJlbWVudCIsIm9uU2hvd0Rpc3RhbmNlSW5wdXQiLCJhY3RpdmVUb29sIiwib25NZWFzdXJlbWVudERlbGV0ZSIsImZpbHRlciIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0Iiwib25JbWFnZUFkZCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJvbkVkaXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/canvas/CanvasEditor.tsx\n"));

/***/ })

});